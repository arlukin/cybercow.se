<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>fareofficelib: TableDataSet Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css">
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.8 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
      <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>TableDataSet Class Reference</h1><!-- doxytag: class="TableDataSet" --><!-- doxytag: inherits="DataSet" --><div class="dynheader">
Inheritance diagram for TableDataSet:</div>
<div class="dynsection">

<p><center><img src="classTableDataSet.png" usemap="#TableDataSet_map" border="0" alt=""></center>
<map name="TableDataSet_map">
<area href="classDataSet.html" alt="DataSet" shape="rect" coords="0,0,87,24">
</map>
</div>

<p>
<a href="classTableDataSet-members.html">List of all members.</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTableDataSet.html#db3788be740b5ec7626a86e1892cad6d">__construct</a> (<a class="el" href="interfaceConnection.html">Connection</a> $conn, $tableName, $p3=null, $p4=null)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Construct new <a class="el" href="classTableDataSet.html">TableDataSet</a> instance.  <a href="#db3788be740b5ec7626a86e1892cad6d"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTableDataSet.html#0893261e00b036c30a788e32627aaee9">tableName</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Gets the tableName defined in the schema.  <a href="#0893261e00b036c30a788e32627aaee9"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTableDataSet.html#ea022413a44e67f5f151e25003b8ae26">tableInfo</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Load the <a class="el" href="classTableInfo.html">TableInfo</a> (metadata) object for this table.  <a href="#ea022413a44e67f5f151e25003b8ae26"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTableDataSet.html#7633039c1eecc80d5097ce1506977b4a">fetchRecords</a> ($p1=0, $p2=null)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Fetch start to max records.  <a href="#7633039c1eecc80d5097ce1506977b4a"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTableDataSet.html#503e29b1d075e6b7e94a51689b22330d">addRecord</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Creates a new <a class="el" href="classRecord.html">Record</a> within this <a class="el" href="classDataSet.html">DataSet</a>.  <a href="#503e29b1d075e6b7e94a51689b22330d"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTableDataSet.html#031ab2152ffb4bbd79e239aae4463585">save</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Saves all the records in the <a class="el" href="classDataSet.html">DataSet</a>.  <a href="#031ab2152ffb4bbd79e239aae4463585"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTableDataSet.html#f11cd7543b13508c5e5e91144fa68b42">removeDeletedRecords</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Removes any records that are marked as a zombie.  <a href="#f11cd7543b13508c5e5e91144fa68b42"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTableDataSet.html#8b03e61638d5b368b4e3c0cf731c92a5">setOptimisticLockingColumn</a> ($olc)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Sets the table column used for optomistic locking.  <a href="#8b03e61638d5b368b4e3c0cf731c92a5"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTableDataSet.html#2d64c67643f205f205a35fe8b1cd23d8">optimisticLockingCol</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Gets the table column used for optomistic locking.  <a href="#2d64c67643f205f205a35fe8b1cd23d8"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTableDataSet.html#41b24e7a6c8cc4e4f06ad338b728d3fb">where</a> ($where)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Sets the value for the SQL portion of the WHERE statement.  <a href="#41b24e7a6c8cc4e4f06ad338b728d3fb"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTableDataSet.html#c3234a083070252d6c4b4fb03b2b3ef1">getWhere</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Gets the value of the SQL portion of WHERE.  <a href="#c3234a083070252d6c4b4fb03b2b3ef1"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTableDataSet.html#d6377fde291763fa84b2e76ba46a86ef">order</a> ($order)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Sets the value for the SQL portion of the ORDER statement.  <a href="#d6377fde291763fa84b2e76ba46a86ef"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTableDataSet.html#eef48ae78961c2cff121f0e9f0ce1a3b">getOrder</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Gets the value of the SQL portion of ORDER.  <a href="#eef48ae78961c2cff121f0e9f0ce1a3b"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTableDataSet.html#a29309ddfa4e84f25e964d41fea7fb67">other</a> ($other)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Sets the value for the SQL portion of the OTHER statement.  <a href="#a29309ddfa4e84f25e964d41fea7fb67"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTableDataSet.html#5a3ac58ebade4a1f5069c419d0ab1f36">getOther</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Gets the value of the SQL portion of OTHER.  <a href="#5a3ac58ebade4a1f5069c419d0ab1f36"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTableDataSet.html#b9b4c794fa8f2c2b3ea8bab28f040b92">refresh</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This method refreshes all of the Records stored in this <a class="el" href="classTableDataSet.html">TableDataSet</a>.  <a href="#b9b4c794fa8f2c2b3ea8bab28f040b92"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTableDataSet.html#691ccbdcaf5ae5251317c80c758ad852">setRefreshOnSave</a> ($v)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Setting this causes each <a class="el" href="classRecord.html">Record</a> to refresh itself when a <a class="el" href="classTableDataSet.html#031ab2152ffb4bbd79e239aae4463585" title="Saves all the records in the DataSet.">save()</a> is performed on it.  <a href="#691ccbdcaf5ae5251317c80c758ad852"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTableDataSet.html#e190c3f6700228ab6f7572d8eb4d4687">refreshOnSave</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Setting this causes each <a class="el" href="classRecord.html">Record</a> to refresh itself when a <a class="el" href="classTableDataSet.html#031ab2152ffb4bbd79e239aae4463585" title="Saves all the records in the DataSet.">save()</a> is performed on it.  <a href="#e190c3f6700228ab6f7572d8eb4d4687"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTableDataSet.html#e9c697d918434a61041342c4cbf94ee0">getSelectSql</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Builds the select string that was used to populate this <a class="el" href="classTableDataSet.html">TableDataSet</a>.  <a href="#e9c697d918434a61041342c4cbf94ee0"></a><br></td></tr>
<tr><td colspan="2"><br><h2>Private Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTableDataSet.html#478494899e35ab95a0a94f25583ea8e6">buildSelectString</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Used by <a class="el" href="classTableDataSet.html#e9c697d918434a61041342c4cbf94ee0" title="Builds the select string that was used to populate this TableDataSet.">getSelectSql()</a> to build the select string that was used to populate this <a class="el" href="classTableDataSet.html">TableDataSet</a>.  <a href="#478494899e35ab95a0a94f25583ea8e6"></a><br></td></tr>
<tr><td colspan="2"><br><h2>Private Attributes</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTableDataSet.html#833573fa457ca10f81043873c8565945">$tableName</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Name of current table.  <a href="#833573fa457ca10f81043873c8565945"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTableDataSet.html#75004a953ff6dafcea81ab6e2b76622c">$tableInfo</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight"><a class="el" href="classTableInfo.html">TableInfo</a> (metadata) object.  <a href="#75004a953ff6dafcea81ab6e2b76622c"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTableDataSet.html#93292054d911a5287d25abca3b83b648">$optimisticLockingCol</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">the optimistic locking column value  <a href="#93292054d911a5287d25abca3b83b648"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTableDataSet.html#c84c0a9de4fc1d1cb61196d594ffba9f">$where</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">the value for the sql where clause  <a href="#c84c0a9de4fc1d1cb61196d594ffba9f"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTableDataSet.html#62cb9acb95fc9a349d1d6b3a03b53957">$order</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">the value for the sql order by clause  <a href="#62cb9acb95fc9a349d1d6b3a03b53957"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTableDataSet.html#1d98ff5141e7d35d51ad1f70419f22c3">$other</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">the value for the sql other clause  <a href="#1d98ff5141e7d35d51ad1f70419f22c3"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTableDataSet.html#4bc138c732d2be499659ce1cdd3c905e">$refreshOnSave</a> = false</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Whether to reload record values when <a class="el" href="classTableDataSet.html#031ab2152ffb4bbd79e239aae4463585" title="Saves all the records in the DataSet.">save()</a> is performed.  <a href="#4bc138c732d2be499659ce1cdd3c905e"></a><br></td></tr>
</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>

<p>Definition at line <a class="el" href="TableDataSet_8php-source.html#l00039">39</a> of file <a class="el" href="TableDataSet_8php-source.html">TableDataSet.php</a>.</p>
<hr><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" name="db3788be740b5ec7626a86e1892cad6d"></a><!-- doxytag: member="TableDataSet::__construct" ref="db3788be740b5ec7626a86e1892cad6d" args="(Connection $conn, $tableName, $p3=null, $p4=null)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TableDataSet::__construct           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="interfaceConnection.html">Connection</a> $&nbsp;</td>
          <td class="paramname"> <em>conn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>tableName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>p3</em> = <code>null</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>p4</em> = <code>null</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Construct new <a class="el" href="classTableDataSet.html">TableDataSet</a> instance. 
<p>
Supports a few signatures:<ul>
<li>new <a class="el" href="classTableDataSet.html">TableDataSet</a>($conn, "mytable", "col1, col2")</li><li>new <a class="el" href="classTableDataSet.html">TableDataSet</a>($conn, "mytable", new <a class="el" href="classKeyDef.html">KeyDef</a>(...))</li><li>new <a class="el" href="classTableDataSet.html">TableDataSet</a>($conn, "mytable", "col1, col2", new <a class="el" href="classKeyDef.html">KeyDef</a>(...))</li></ul>
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em><a class="el" href="interfaceConnection.html">Connection</a></em>&nbsp;</td><td>$conn </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>string</em>&nbsp;</td><td>$tableName </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>mixed</em>&nbsp;</td><td>$p3 <a class="el" href="classKeyDef.html">KeyDef</a> or column list (string) </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>mixed</em>&nbsp;</td><td>$p4 <a class="el" href="classKeyDef.html">KeyDef</a> or column list (string) </td></tr>
  </table>
</dl>

<p>Definition at line <a class="el" href="TableDataSet_8php-source.html#l00075">75</a> of file <a class="el" href="TableDataSet_8php-source.html">TableDataSet.php</a>.</p>

<p>References <a class="el" href="TableDataSet_8php-source.html#l00042">$tableName</a>, and <a class="el" href="TableDataSet_8php-source.html#l00098">tableName()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00076"></a>00076     {
<a name="l00077"></a>00077         $this-&gt;conn = <a class="code" href="classDataSet.html#85be31bdbedea0baf1138f8050426e9b" title="this DataSet&amp;#39;s connection object">$conn</a>;
<a name="l00078"></a>00078         $this-&gt;columns = <span class="stringliteral">"*"</span>;
<a name="l00079"></a>00079         $this-&gt;<a class="code" href="classTableDataSet.html#0893261e00b036c30a788e32627aaee9" title="Gets the tableName defined in the schema.">tableName</a> = <a class="code" href="classTableDataSet.html#833573fa457ca10f81043873c8565945" title="Name of current table.">$tableName</a>;
<a name="l00080"></a>00080         
<a name="l00081"></a>00081         <span class="keywordflow">if</span> ($p4 !== null) {
<a name="l00082"></a>00082             $this-&gt;columns = $p3;
<a name="l00083"></a>00083             $this-&gt;keyDef = $p4;
<a name="l00084"></a>00084         } elseif ($p3 !== null) {
<a name="l00085"></a>00085             <span class="keywordflow">if</span> ($p3 instanceof <a class="code" href="classKeyDef.html">KeyDef</a>) {
<a name="l00086"></a>00086                 $this-&gt;keyDef = $p3;
<a name="l00087"></a>00087             } <span class="keywordflow">else</span> { <span class="comment">// it's a string (column list)</span>
<a name="l00088"></a>00088                 $this-&gt;columns = $p3;
<a name="l00089"></a>00089             }
<a name="l00090"></a>00090         }
<a name="l00091"></a>00091     }
</pre></div>
<p>

</div>
</div><p>
<hr><h2>Member Function Documentation</h2>
<a class="anchor" name="503e29b1d075e6b7e94a51689b22330d"></a><!-- doxytag: member="TableDataSet::addRecord" ref="503e29b1d075e6b7e94a51689b22330d" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TableDataSet::addRecord           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Creates a new <a class="el" href="classRecord.html">Record</a> within this <a class="el" href="classDataSet.html">DataSet</a>. 
<p>
<dl class="return" compact><dt><b>Returns:</b></dt><dd><a class="el" href="classRecord.html">Record</a> The added record </dd></dl>
<dl compact><dt><b>Exceptions:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em><a class="el" href="classDataSetException.html">DataSetException</a></em>&nbsp;</td><td></td></tr>
    <tr><td valign="top"></td><td valign="top"><em><a class="el" href="classSQLException.html">SQLException</a></em>&nbsp;</td><td></td></tr>
  </table>
</dl>

<p>Definition at line <a class="el" href="TableDataSet_8php-source.html#l00138">138</a> of file <a class="el" href="TableDataSet_8php-source.html">TableDataSet.php</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00139"></a>00139     {
<a name="l00140"></a>00140         $rec = <span class="keyword">new</span> <a class="code" href="classRecord.html">Record</a>($this, <span class="keyword">true</span>);
<a name="l00141"></a>00141         $rec-&gt;markForInsert();
<a name="l00142"></a>00142         $this-&gt;records[] = $rec;
<a name="l00143"></a>00143         <span class="keywordflow">return</span> $rec;
<a name="l00144"></a>00144     }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="478494899e35ab95a0a94f25583ea8e6"></a><!-- doxytag: member="TableDataSet::buildSelectString" ref="478494899e35ab95a0a94f25583ea8e6" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TableDataSet::buildSelectString           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Used by <a class="el" href="classTableDataSet.html#e9c697d918434a61041342c4cbf94ee0" title="Builds the select string that was used to populate this TableDataSet.">getSelectSql()</a> to build the select string that was used to populate this <a class="el" href="classTableDataSet.html">TableDataSet</a>. 
<p>
<dl class="see" compact><dt><b>See also:</b></dt><dd><a class="el" href="classTableDataSet.html#e9c697d918434a61041342c4cbf94ee0" title="Builds the select string that was used to populate this TableDataSet.">getSelectSql()</a> </dd></dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>void </dd></dl>
<dl compact><dt><b>Exceptions:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em><a class="el" href="classDataSetException.html">DataSetException</a></em>&nbsp;</td><td></td></tr>
  </table>
</dl>

<p>Definition at line <a class="el" href="TableDataSet_8php-source.html#l00324">324</a> of file <a class="el" href="TableDataSet_8php-source.html">TableDataSet.php</a>.</p>

<p>References <a class="el" href="TableDataSet_8php-source.html#l00230">order()</a>, <a class="el" href="TableDataSet_8php-source.html#l00254">other()</a>, <a class="el" href="TableDataSet_8php-source.html#l00098">tableName()</a>, and <a class="el" href="TableDataSet_8php-source.html#l00206">where()</a>.</p>

<p>Referenced by <a class="el" href="TableDataSet_8php-source.html#l00125">fetchRecords()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00325"></a>00325     {
<a name="l00326"></a>00326         $this-&gt;selectSql = <span class="stringliteral">"SELECT "</span>;
<a name="l00327"></a>00327         $this-&gt;selectSql .= $this-&gt;columns;
<a name="l00328"></a>00328         $this-&gt;selectSql .= <span class="stringliteral">" FROM "</span> . $this-&gt;<a class="code" href="classTableDataSet.html#0893261e00b036c30a788e32627aaee9" title="Gets the tableName defined in the schema.">tableName</a>;
<a name="l00329"></a>00329         <span class="keywordflow">if</span> ($this-&gt;<a class="code" href="classTableDataSet.html#41b24e7a6c8cc4e4f06ad338b728d3fb" title="Sets the value for the SQL portion of the WHERE statement.">where</a> !== null &amp;&amp; $this-&gt;<a class="code" href="classTableDataSet.html#41b24e7a6c8cc4e4f06ad338b728d3fb" title="Sets the value for the SQL portion of the WHERE statement.">where</a> !== <span class="stringliteral">""</span>) {
<a name="l00330"></a>00330             $this-&gt;selectSql .= <span class="stringliteral">" WHERE "</span> . $this-&gt;<a class="code" href="classTableDataSet.html#41b24e7a6c8cc4e4f06ad338b728d3fb" title="Sets the value for the SQL portion of the WHERE statement.">where</a>;
<a name="l00331"></a>00331         }
<a name="l00332"></a>00332         <span class="keywordflow">if</span> ($this-&gt;<a class="code" href="classTableDataSet.html#d6377fde291763fa84b2e76ba46a86ef" title="Sets the value for the SQL portion of the ORDER statement.">order</a> !== null &amp;&amp; $this-&gt;<a class="code" href="classTableDataSet.html#d6377fde291763fa84b2e76ba46a86ef" title="Sets the value for the SQL portion of the ORDER statement.">order</a> !== <span class="stringliteral">""</span>) {
<a name="l00333"></a>00333             $this-&gt;selectSql .= <span class="stringliteral">" ORDER BY "</span> . $this-&gt;<a class="code" href="classTableDataSet.html#d6377fde291763fa84b2e76ba46a86ef" title="Sets the value for the SQL portion of the ORDER statement.">order</a>;
<a name="l00334"></a>00334         }
<a name="l00335"></a>00335         <span class="keywordflow">if</span> ($this-&gt;<a class="code" href="classTableDataSet.html#a29309ddfa4e84f25e964d41fea7fb67" title="Sets the value for the SQL portion of the OTHER statement.">other</a> !== null &amp;&amp; $this-&gt;<a class="code" href="classTableDataSet.html#a29309ddfa4e84f25e964d41fea7fb67" title="Sets the value for the SQL portion of the OTHER statement.">other</a> !== <span class="stringliteral">""</span>) {
<a name="l00336"></a>00336             $this-&gt;selectSql .= $this-&gt;<a class="code" href="classTableDataSet.html#a29309ddfa4e84f25e964d41fea7fb67" title="Sets the value for the SQL portion of the OTHER statement.">other</a>;
<a name="l00337"></a>00337         }
<a name="l00338"></a>00338     }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="7633039c1eecc80d5097ce1506977b4a"></a><!-- doxytag: member="TableDataSet::fetchRecords" ref="7633039c1eecc80d5097ce1506977b4a" args="($p1=0, $p2=null)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TableDataSet::fetchRecords           </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>p1</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>p2</em> = <code>null</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Fetch start to max records. 
<p>
start is at <a class="el" href="classRecord.html">Record</a> 0<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>int</em>&nbsp;</td><td>$start </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>int</em>&nbsp;</td><td>$max </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd><a class="el" href="classTableDataSet.html">TableDataSet</a> This object. </dd></dl>
<dl compact><dt><b>Exceptions:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em><a class="el" href="classSQLException.html">SQLException</a></em>&nbsp;</td><td></td></tr>
    <tr><td valign="top"></td><td valign="top"><em><a class="el" href="classDataSetException.html">DataSetException</a></em>&nbsp;</td><td></td></tr>
  </table>
</dl>

<p>Reimplemented from <a class="el" href="classDataSet.html#1c0a5305b2d2a2136db94473e1772fa0">DataSet</a>.</p>

<p>Definition at line <a class="el" href="TableDataSet_8php-source.html#l00125">125</a> of file <a class="el" href="TableDataSet_8php-source.html">TableDataSet.php</a>.</p>

<p>References <a class="el" href="TableDataSet_8php-source.html#l00324">buildSelectString()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00126"></a>00126     {
<a name="l00127"></a>00127         $this-&gt;<a class="code" href="classTableDataSet.html#478494899e35ab95a0a94f25583ea8e6" title="Used by getSelectSql() to build the select string that was used to populate this...">buildSelectString</a>();
<a name="l00128"></a>00128         <span class="keywordflow">return</span> <a class="code" href="classTableDataSet.html#7633039c1eecc80d5097ce1506977b4a" title="Fetch start to max records.">parent::fetchRecords</a>($p1, $p2);
<a name="l00129"></a>00129     }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="eef48ae78961c2cff121f0e9f0ce1a3b"></a><!-- doxytag: member="TableDataSet::getOrder" ref="eef48ae78961c2cff121f0e9f0ce1a3b" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TableDataSet::getOrder           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Gets the value of the SQL portion of ORDER. 
<p>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>string </dd></dl>

<p>Definition at line <a class="el" href="TableDataSet_8php-source.html#l00243">243</a> of file <a class="el" href="TableDataSet_8php-source.html">TableDataSet.php</a>.</p>

<p>References <a class="el" href="TableDataSet_8php-source.html#l00230">order()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00244"></a>00244     {
<a name="l00245"></a>00245         <span class="keywordflow">return</span> $this-&gt;<a class="code" href="classTableDataSet.html#d6377fde291763fa84b2e76ba46a86ef" title="Sets the value for the SQL portion of the ORDER statement.">order</a>;
<a name="l00246"></a>00246     }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="5a3ac58ebade4a1f5069c419d0ab1f36"></a><!-- doxytag: member="TableDataSet::getOther" ref="5a3ac58ebade4a1f5069c419d0ab1f36" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TableDataSet::getOther           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Gets the value of the SQL portion of OTHER. 
<p>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>string </dd></dl>

<p>Definition at line <a class="el" href="TableDataSet_8php-source.html#l00267">267</a> of file <a class="el" href="TableDataSet_8php-source.html">TableDataSet.php</a>.</p>

<p>References <a class="el" href="TableDataSet_8php-source.html#l00254">other()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00268"></a>00268     {
<a name="l00269"></a>00269         <span class="keywordflow">return</span> $this-&gt;<a class="code" href="classTableDataSet.html#a29309ddfa4e84f25e964d41fea7fb67" title="Sets the value for the SQL portion of the OTHER statement.">other</a>;
<a name="l00270"></a>00270     }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="e9c697d918434a61041342c4cbf94ee0"></a><!-- doxytag: member="TableDataSet::getSelectSql" ref="e9c697d918434a61041342c4cbf94ee0" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TableDataSet::getSelectSql           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Builds the select string that was used to populate this <a class="el" href="classTableDataSet.html">TableDataSet</a>. 
<p>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>SQL select string </dd></dl>

<p>Reimplemented from <a class="el" href="classDataSet.html#10ae174b211bc7cf7d38c0f963c2c5fc">DataSet</a>.</p>

<p>Definition at line <a class="el" href="TableDataSet_8php-source.html#l00312">312</a> of file <a class="el" href="TableDataSet_8php-source.html">TableDataSet.php</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00313"></a>00313     {
<a name="l00314"></a>00314         <span class="keywordflow">return</span> $this-&gt;selectSql;     
<a name="l00315"></a>00315     }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="c3234a083070252d6c4b4fb03b2b3ef1"></a><!-- doxytag: member="TableDataSet::getWhere" ref="c3234a083070252d6c4b4fb03b2b3ef1" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TableDataSet::getWhere           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Gets the value of the SQL portion of WHERE. 
<p>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>string </dd></dl>

<p>Definition at line <a class="el" href="TableDataSet_8php-source.html#l00219">219</a> of file <a class="el" href="TableDataSet_8php-source.html">TableDataSet.php</a>.</p>

<p>References <a class="el" href="TableDataSet_8php-source.html#l00206">where()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00220"></a>00220     {
<a name="l00221"></a>00221         <span class="keywordflow">return</span> $this-&gt;<a class="code" href="classTableDataSet.html#41b24e7a6c8cc4e4f06ad338b728d3fb" title="Sets the value for the SQL portion of the WHERE statement.">where</a>;
<a name="l00222"></a>00222     }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="2d64c67643f205f205a35fe8b1cd23d8"></a><!-- doxytag: member="TableDataSet::optimisticLockingCol" ref="2d64c67643f205f205a35fe8b1cd23d8" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TableDataSet::optimisticLockingCol           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Gets the table column used for optomistic locking. 
<p>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>string </dd></dl>

<p>Definition at line <a class="el" href="TableDataSet_8php-source.html#l00196">196</a> of file <a class="el" href="TableDataSet_8php-source.html">TableDataSet.php</a>.</p>

<p>Referenced by <a class="el" href="TableDataSet_8php-source.html#l00187">setOptimisticLockingColumn()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00197"></a>00197     {
<a name="l00198"></a>00198         <span class="keywordflow">return</span> $this-&gt;<a class="code" href="classTableDataSet.html#2d64c67643f205f205a35fe8b1cd23d8" title="Gets the table column used for optomistic locking.">optimisticLockingCol</a>;
<a name="l00199"></a>00199     }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="d6377fde291763fa84b2e76ba46a86ef"></a><!-- doxytag: member="TableDataSet::order" ref="d6377fde291763fa84b2e76ba46a86ef" args="($order)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TableDataSet::order           </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>order</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Sets the value for the SQL portion of the ORDER statement. 
<p>
<dl class="return" compact><dt><b>Returns:</b></dt><dd><a class="el" href="classTableDataSet.html">TableDataSet</a> instance of self </dd></dl>
<dl compact><dt><b>Exceptions:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em><a class="el" href="classDataSetException.html">DataSetException</a></em>&nbsp;</td><td></td></tr>
  </table>
</dl>

<p>Definition at line <a class="el" href="TableDataSet_8php-source.html#l00230">230</a> of file <a class="el" href="TableDataSet_8php-source.html">TableDataSet.php</a>.</p>

<p>References <a class="el" href="TableDataSet_8php-source.html#l00054">$order</a>.</p>

<p>Referenced by <a class="el" href="TableDataSet_8php-source.html#l00324">buildSelectString()</a>, and <a class="el" href="TableDataSet_8php-source.html#l00243">getOrder()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00231"></a>00231     {
<a name="l00232"></a>00232         <span class="keywordflow">if</span> (<a class="code" href="classTableDataSet.html#62cb9acb95fc9a349d1d6b3a03b53957" title="the value for the sql order by clause">$order</a> === null) {
<a name="l00233"></a>00233             <span class="keywordflow">throw</span> <span class="keyword">new</span> <a class="code" href="classDataSetException.html">DataSetException</a>(<span class="stringliteral">"null not allowed for order clause"</span>);
<a name="l00234"></a>00234         }
<a name="l00235"></a>00235         $this-&gt;<a class="code" href="classTableDataSet.html#d6377fde291763fa84b2e76ba46a86ef" title="Sets the value for the SQL portion of the ORDER statement.">order</a> = <a class="code" href="classTableDataSet.html#62cb9acb95fc9a349d1d6b3a03b53957" title="the value for the sql order by clause">$order</a>;
<a name="l00236"></a>00236         <span class="keywordflow">return</span> $this;
<a name="l00237"></a>00237     }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="a29309ddfa4e84f25e964d41fea7fb67"></a><!-- doxytag: member="TableDataSet::other" ref="a29309ddfa4e84f25e964d41fea7fb67" args="($other)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TableDataSet::other           </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>other</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Sets the value for the SQL portion of the OTHER statement. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>string</em>&nbsp;</td><td>$other </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd><a class="el" href="classTableDataSet.html">TableDataSet</a> instance of self </dd></dl>
<dl compact><dt><b>Exceptions:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em><a class="el" href="classDataSetException.html">DataSetException</a></em>&nbsp;</td><td></td></tr>
  </table>
</dl>

<p>Definition at line <a class="el" href="TableDataSet_8php-source.html#l00254">254</a> of file <a class="el" href="TableDataSet_8php-source.html">TableDataSet.php</a>.</p>

<p>References <a class="el" href="TableDataSet_8php-source.html#l00057">$other</a>.</p>

<p>Referenced by <a class="el" href="TableDataSet_8php-source.html#l00324">buildSelectString()</a>, and <a class="el" href="TableDataSet_8php-source.html#l00267">getOther()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00255"></a>00255     {
<a name="l00256"></a>00256         <span class="keywordflow">if</span> (<a class="code" href="classTableDataSet.html#1d98ff5141e7d35d51ad1f70419f22c3" title="the value for the sql other clause">$other</a> === null) {
<a name="l00257"></a>00257             <span class="keywordflow">throw</span> <span class="keyword">new</span> <a class="code" href="classDataSetException.html">DataSetException</a>(<span class="stringliteral">"null not allowed for other clause"</span>);
<a name="l00258"></a>00258         }            
<a name="l00259"></a>00259         $this-&gt;<a class="code" href="classTableDataSet.html#a29309ddfa4e84f25e964d41fea7fb67" title="Sets the value for the SQL portion of the OTHER statement.">other</a> = <a class="code" href="classTableDataSet.html#1d98ff5141e7d35d51ad1f70419f22c3" title="the value for the sql other clause">$other</a>;
<a name="l00260"></a>00260         <span class="keywordflow">return</span> $this;
<a name="l00261"></a>00261     }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="b9b4c794fa8f2c2b3ea8bab28f040b92"></a><!-- doxytag: member="TableDataSet::refresh" ref="b9b4c794fa8f2c2b3ea8bab28f040b92" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TableDataSet::refresh           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
This method refreshes all of the Records stored in this <a class="el" href="classTableDataSet.html">TableDataSet</a>. 
<p>
<dl compact><dt><b>Exceptions:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em><a class="el" href="classSQLException.html">SQLException</a>,<a class="el" href="classDataSetException.html">DataSetException</a></em>&nbsp;</td><td></td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>void </dd></dl>

<p>Definition at line <a class="el" href="TableDataSet_8php-source.html#l00277">277</a> of file <a class="el" href="TableDataSet_8php-source.html">TableDataSet.php</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00278"></a>00278     {
<a name="l00279"></a>00279         <span class="keywordflow">foreach</span>($this-&gt;records as $rec) {
<a name="l00280"></a>00280             $rec-&gt;refresh($this-&gt;conn);
<a name="l00281"></a>00281         }
<a name="l00282"></a>00282     }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="e190c3f6700228ab6f7572d8eb4d4687"></a><!-- doxytag: member="TableDataSet::refreshOnSave" ref="e190c3f6700228ab6f7572d8eb4d4687" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TableDataSet::refreshOnSave           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Setting this causes each <a class="el" href="classRecord.html">Record</a> to refresh itself when a <a class="el" href="classTableDataSet.html#031ab2152ffb4bbd79e239aae4463585" title="Saves all the records in the DataSet.">save()</a> is performed on it. 
<p>
Default value is false.<p>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>boolean True if it is on; false otherwise </dd></dl>

<p>Definition at line <a class="el" href="TableDataSet_8php-source.html#l00303">303</a> of file <a class="el" href="TableDataSet_8php-source.html">TableDataSet.php</a>.</p>

<p>Referenced by <a class="el" href="TableDataSet_8php-source.html#l00291">setRefreshOnSave()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00304"></a>00304     {
<a name="l00305"></a>00305         <span class="keywordflow">return</span> $this-&gt;<a class="code" href="classTableDataSet.html#e190c3f6700228ab6f7572d8eb4d4687" title="Setting this causes each Record to refresh itself when a save() is performed on it...">refreshOnSave</a>;
<a name="l00306"></a>00306     }  
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="f11cd7543b13508c5e5e91144fa68b42"></a><!-- doxytag: member="TableDataSet::removeDeletedRecords" ref="f11cd7543b13508c5e5e91144fa68b42" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TableDataSet::removeDeletedRecords           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Removes any records that are marked as a zombie. 
<p>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>void </dd></dl>
<dl compact><dt><b>Exceptions:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em><a class="el" href="classDataSetException.html">DataSetException</a></em>&nbsp;</td><td></td></tr>
  </table>
</dl>

<p>Definition at line <a class="el" href="TableDataSet_8php-source.html#l00170">170</a> of file <a class="el" href="TableDataSet_8php-source.html">TableDataSet.php</a>.</p>

<p>Referenced by <a class="el" href="TableDataSet_8php-source.html#l00151">save()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00171"></a>00171     {
<a name="l00172"></a>00172         <span class="comment">// this algorythm should be a fair bit</span>
<a name="l00173"></a>00173         <span class="comment">// faster than calling DataSet::removeRecord()</span>
<a name="l00174"></a>00174         $new_recs = array();
<a name="l00175"></a>00175         <span class="keywordflow">foreach</span>($this-&gt;records as $rec) {
<a name="l00176"></a>00176             <span class="keywordflow">if</span> (!$rec-&gt;isAZombie()) {
<a name="l00177"></a>00177                 $new_recs[] = $rec;
<a name="l00178"></a>00178             }
<a name="l00179"></a>00179         }
<a name="l00180"></a>00180         $this-&gt;records = $new_recs;
<a name="l00181"></a>00181     }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="031ab2152ffb4bbd79e239aae4463585"></a><!-- doxytag: member="TableDataSet::save" ref="031ab2152ffb4bbd79e239aae4463585" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TableDataSet::save           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Saves all the records in the <a class="el" href="classDataSet.html">DataSet</a>. 
<p>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>int Total number of records updated/inserted/deleted. </dd></dl>
<dl compact><dt><b>Exceptions:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em><a class="el" href="classSQLException.html">SQLException</a>,<a class="el" href="classDataSetException.html">DataSetException</a></em>&nbsp;</td><td></td></tr>
  </table>
</dl>

<p>Definition at line <a class="el" href="TableDataSet_8php-source.html#l00151">151</a> of file <a class="el" href="TableDataSet_8php-source.html">TableDataSet.php</a>.</p>

<p>References <a class="el" href="TableDataSet_8php-source.html#l00170">removeDeletedRecords()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00152"></a>00152     {
<a name="l00153"></a>00153         $j = 0;
<a name="l00154"></a>00154         <span class="keywordflow">foreach</span>($this-&gt;records as $rec) {
<a name="l00155"></a>00155             $rec-&gt;save();
<a name="l00156"></a>00156             $j++;
<a name="l00157"></a>00157         }        
<a name="l00158"></a>00158         <span class="comment">// now go through and remove any records</span>
<a name="l00159"></a>00159         <span class="comment">// that were previously marked as a zombie by the </span>
<a name="l00160"></a>00160         <span class="comment">// delete process</span>
<a name="l00161"></a>00161         $this-&gt;<a class="code" href="classTableDataSet.html#f11cd7543b13508c5e5e91144fa68b42" title="Removes any records that are marked as a zombie.">removeDeletedRecords</a>();
<a name="l00162"></a>00162         <span class="keywordflow">return</span> $j;
<a name="l00163"></a>00163     }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="8b03e61638d5b368b4e3c0cf731c92a5"></a><!-- doxytag: member="TableDataSet::setOptimisticLockingColumn" ref="8b03e61638d5b368b4e3c0cf731c92a5" args="($olc)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TableDataSet::setOptimisticLockingColumn           </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>olc</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Sets the table column used for optomistic locking. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>string</em>&nbsp;</td><td>$olc </td></tr>
  </table>
</dl>

<p>Definition at line <a class="el" href="TableDataSet_8php-source.html#l00187">187</a> of file <a class="el" href="TableDataSet_8php-source.html">TableDataSet.php</a>.</p>

<p>References <a class="el" href="TableDataSet_8php-source.html#l00196">optimisticLockingCol()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00188"></a>00188     {
<a name="l00189"></a>00189         $this-&gt;<a class="code" href="classTableDataSet.html#2d64c67643f205f205a35fe8b1cd23d8" title="Gets the table column used for optomistic locking.">optimisticLockingCol</a> = $olc;
<a name="l00190"></a>00190     }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="691ccbdcaf5ae5251317c80c758ad852"></a><!-- doxytag: member="TableDataSet::setRefreshOnSave" ref="691ccbdcaf5ae5251317c80c758ad852" args="($v)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TableDataSet::setRefreshOnSave           </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>v</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Setting this causes each <a class="el" href="classRecord.html">Record</a> to refresh itself when a <a class="el" href="classTableDataSet.html#031ab2152ffb4bbd79e239aae4463585" title="Saves all the records in the DataSet.">save()</a> is performed on it. 
<p>
Default value is false. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>boolean</em>&nbsp;</td><td>$v </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>true if it is on; false otherwise </dd></dl>

<p>Definition at line <a class="el" href="TableDataSet_8php-source.html#l00291">291</a> of file <a class="el" href="TableDataSet_8php-source.html">TableDataSet.php</a>.</p>

<p>References <a class="el" href="TableDataSet_8php-source.html#l00303">refreshOnSave()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00292"></a>00292     {
<a name="l00293"></a>00293         $this-&gt;<a class="code" href="classTableDataSet.html#e190c3f6700228ab6f7572d8eb4d4687" title="Setting this causes each Record to refresh itself when a save() is performed on it...">refreshOnSave</a> = $v;
<a name="l00294"></a>00294     }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="ea022413a44e67f5f151e25003b8ae26"></a><!-- doxytag: member="TableDataSet::tableInfo" ref="ea022413a44e67f5f151e25003b8ae26" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TableDataSet::tableInfo           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Load the <a class="el" href="classTableInfo.html">TableInfo</a> (metadata) object for this table. 
<p>
<dl class="return" compact><dt><b>Returns:</b></dt><dd><a class="el" href="classTableInfo.html">TableInfo</a> </dd></dl>
<dl compact><dt><b>Exceptions:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em><a class="el" href="classSQLException.html">SQLException</a></em>&nbsp;</td><td>if current conn doesn't know about $this-&gt;tableName </td></tr>
  </table>
</dl>

<p>Definition at line <a class="el" href="TableDataSet_8php-source.html#l00108">108</a> of file <a class="el" href="TableDataSet_8php-source.html">TableDataSet.php</a>.</p>

<p>References <a class="el" href="TableDataSet_8php-source.html#l00098">tableName()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00109"></a>00109     {
<a name="l00110"></a>00110         <span class="keywordflow">if</span> ($this-&gt;<a class="code" href="classTableDataSet.html#ea022413a44e67f5f151e25003b8ae26" title="Load the TableInfo (metadata) object for this table.">tableInfo</a> === null) {
<a name="l00111"></a>00111             $this-&gt;<a class="code" href="classTableDataSet.html#ea022413a44e67f5f151e25003b8ae26" title="Load the TableInfo (metadata) object for this table.">tableInfo</a> = $this-&gt;conn-&gt;getDatabaseInfo()-&gt;getTable($this-&gt;<a class="code" href="classTableDataSet.html#0893261e00b036c30a788e32627aaee9" title="Gets the tableName defined in the schema.">tableName</a>);
<a name="l00112"></a>00112         }
<a name="l00113"></a>00113         <span class="keywordflow">return</span> $this-&gt;<a class="code" href="classTableDataSet.html#ea022413a44e67f5f151e25003b8ae26" title="Load the TableInfo (metadata) object for this table.">tableInfo</a>;
<a name="l00114"></a>00114     }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="0893261e00b036c30a788e32627aaee9"></a><!-- doxytag: member="TableDataSet::tableName" ref="0893261e00b036c30a788e32627aaee9" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TableDataSet::tableName           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Gets the tableName defined in the schema. 
<p>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>string </dd></dl>
<dl compact><dt><b>Exceptions:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em><a class="el" href="classDataSetException.html">DataSetException</a></em>&nbsp;</td><td></td></tr>
  </table>
</dl>

<p>Definition at line <a class="el" href="TableDataSet_8php-source.html#l00098">98</a> of file <a class="el" href="TableDataSet_8php-source.html">TableDataSet.php</a>.</p>

<p>Referenced by <a class="el" href="TableDataSet_8php-source.html#l00075">__construct()</a>, <a class="el" href="TableDataSet_8php-source.html#l00324">buildSelectString()</a>, and <a class="el" href="TableDataSet_8php-source.html#l00108">tableInfo()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00099"></a>00099     {
<a name="l00100"></a>00100         <span class="keywordflow">return</span> $this-&gt;<a class="code" href="classTableDataSet.html#0893261e00b036c30a788e32627aaee9" title="Gets the tableName defined in the schema.">tableName</a>;
<a name="l00101"></a>00101     }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="41b24e7a6c8cc4e4f06ad338b728d3fb"></a><!-- doxytag: member="TableDataSet::where" ref="41b24e7a6c8cc4e4f06ad338b728d3fb" args="($where)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TableDataSet::where           </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>where</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Sets the value for the SQL portion of the WHERE statement. 
<p>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>instance of self </dd></dl>
<dl compact><dt><b>Exceptions:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em><a class="el" href="classDataSetException.html">DataSetException</a></em>&nbsp;</td><td></td></tr>
  </table>
</dl>

<p>Definition at line <a class="el" href="TableDataSet_8php-source.html#l00206">206</a> of file <a class="el" href="TableDataSet_8php-source.html">TableDataSet.php</a>.</p>

<p>References <a class="el" href="TableDataSet_8php-source.html#l00051">$where</a>.</p>

<p>Referenced by <a class="el" href="TableDataSet_8php-source.html#l00324">buildSelectString()</a>, and <a class="el" href="TableDataSet_8php-source.html#l00219">getWhere()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00207"></a>00207     {
<a name="l00208"></a>00208         <span class="keywordflow">if</span> (<a class="code" href="classTableDataSet.html#c84c0a9de4fc1d1cb61196d594ffba9f" title="the value for the sql where clause">$where</a> == null) {
<a name="l00209"></a>00209             <span class="keywordflow">throw</span> <span class="keyword">new</span> <a class="code" href="classDataSetException.html">DataSetException</a>(<span class="stringliteral">"null not allowed for where clause"</span>);
<a name="l00210"></a>00210         }            
<a name="l00211"></a>00211         $this-&gt;<a class="code" href="classTableDataSet.html#41b24e7a6c8cc4e4f06ad338b728d3fb" title="Sets the value for the SQL portion of the WHERE statement.">where</a> = <a class="code" href="classTableDataSet.html#c84c0a9de4fc1d1cb61196d594ffba9f" title="the value for the sql where clause">$where</a>;
<a name="l00212"></a>00212         <span class="keywordflow">return</span> $this;
<a name="l00213"></a>00213     }
</pre></div>
<p>

</div>
</div><p>
<hr><h2>Member Data Documentation</h2>
<a class="anchor" name="93292054d911a5287d25abca3b83b648"></a><!-- doxytag: member="TableDataSet::$optimisticLockingCol" ref="93292054d911a5287d25abca3b83b648" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TableDataSet::$optimisticLockingCol<code> [private]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
the optimistic locking column value 
<p>

<p>Definition at line <a class="el" href="TableDataSet_8php-source.html#l00048">48</a> of file <a class="el" href="TableDataSet_8php-source.html">TableDataSet.php</a>.</p>

</div>
</div><p>
<a class="anchor" name="62cb9acb95fc9a349d1d6b3a03b53957"></a><!-- doxytag: member="TableDataSet::$order" ref="62cb9acb95fc9a349d1d6b3a03b53957" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TableDataSet::$order<code> [private]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
the value for the sql order by clause 
<p>

<p>Definition at line <a class="el" href="TableDataSet_8php-source.html#l00054">54</a> of file <a class="el" href="TableDataSet_8php-source.html">TableDataSet.php</a>.</p>

<p>Referenced by <a class="el" href="TableDataSet_8php-source.html#l00230">order()</a>.</p>

</div>
</div><p>
<a class="anchor" name="1d98ff5141e7d35d51ad1f70419f22c3"></a><!-- doxytag: member="TableDataSet::$other" ref="1d98ff5141e7d35d51ad1f70419f22c3" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TableDataSet::$other<code> [private]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
the value for the sql other clause 
<p>

<p>Definition at line <a class="el" href="TableDataSet_8php-source.html#l00057">57</a> of file <a class="el" href="TableDataSet_8php-source.html">TableDataSet.php</a>.</p>

<p>Referenced by <a class="el" href="TableDataSet_8php-source.html#l00254">other()</a>.</p>

</div>
</div><p>
<a class="anchor" name="4bc138c732d2be499659ce1cdd3c905e"></a><!-- doxytag: member="TableDataSet::$refreshOnSave" ref="4bc138c732d2be499659ce1cdd3c905e" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TableDataSet::$refreshOnSave = false<code> [private]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Whether to reload record values when <a class="el" href="classTableDataSet.html#031ab2152ffb4bbd79e239aae4463585" title="Saves all the records in the DataSet.">save()</a> is performed. 
<p>

<p>Definition at line <a class="el" href="TableDataSet_8php-source.html#l00060">60</a> of file <a class="el" href="TableDataSet_8php-source.html">TableDataSet.php</a>.</p>

</div>
</div><p>
<a class="anchor" name="75004a953ff6dafcea81ab6e2b76622c"></a><!-- doxytag: member="TableDataSet::$tableInfo" ref="75004a953ff6dafcea81ab6e2b76622c" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TableDataSet::$tableInfo<code> [private]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<a class="el" href="classTableInfo.html">TableInfo</a> (metadata) object. 
<p>

<p>Definition at line <a class="el" href="TableDataSet_8php-source.html#l00045">45</a> of file <a class="el" href="TableDataSet_8php-source.html">TableDataSet.php</a>.</p>

</div>
</div><p>
<a class="anchor" name="833573fa457ca10f81043873c8565945"></a><!-- doxytag: member="TableDataSet::$tableName" ref="833573fa457ca10f81043873c8565945" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TableDataSet::$tableName<code> [private]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Name of current table. 
<p>

<p>Definition at line <a class="el" href="TableDataSet_8php-source.html#l00042">42</a> of file <a class="el" href="TableDataSet_8php-source.html">TableDataSet.php</a>.</p>

<p>Referenced by <a class="el" href="TableDataSet_8php-source.html#l00075">__construct()</a>.</p>

</div>
</div><p>
<a class="anchor" name="c84c0a9de4fc1d1cb61196d594ffba9f"></a><!-- doxytag: member="TableDataSet::$where" ref="c84c0a9de4fc1d1cb61196d594ffba9f" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TableDataSet::$where<code> [private]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
the value for the sql where clause 
<p>

<p>Definition at line <a class="el" href="TableDataSet_8php-source.html#l00051">51</a> of file <a class="el" href="TableDataSet_8php-source.html">TableDataSet.php</a>.</p>

<p>Referenced by <a class="el" href="TableDataSet_8php-source.html#l00206">where()</a>.</p>

</div>
</div><p>
<hr>The documentation for this class was generated from the following file:<ul>
<li>Static/PhpInclude/FareOfficeLib/3dPart/jargon/<a class="el" href="TableDataSet_8php-source.html">TableDataSet.php</a></ul>
</div>
<hr size="1"><address style="text-align: right;"><small>Generated on Wed May 6 23:10:50 2009 for fareofficelib by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.8 </small></address>
</body>
</html>
