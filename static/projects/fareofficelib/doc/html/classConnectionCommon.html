<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>fareofficelib: ConnectionCommon Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css">
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.8 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
      <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>ConnectionCommon Class Reference</h1><!-- doxytag: class="ConnectionCommon" --><div class="dynheader">
Inheritance diagram for ConnectionCommon:</div>
<div class="dynsection">

<p><center><img src="classConnectionCommon.png" usemap="#ConnectionCommon_map" border="0" alt=""></center>
<map name="ConnectionCommon_map">
<area href="classMSSQLConnection.html" alt="MSSQLConnection" shape="rect" coords="0,56,124,80">
<area href="classMySQLConnection.html" alt="MySQLConnection" shape="rect" coords="134,56,258,80">
<area href="classMySQLiConnection.html" alt="MySQLiConnection" shape="rect" coords="268,56,392,80">
<area href="classOCI8Connection.html" alt="OCI8Connection" shape="rect" coords="402,56,526,80">
<area href="classODBCConnection.html" alt="ODBCConnection" shape="rect" coords="536,56,660,80">
<area href="classPgSQLConnection.html" alt="PgSQLConnection" shape="rect" coords="670,56,794,80">
<area href="classSQLiteConnection.html" alt="SQLiteConnection" shape="rect" coords="804,56,928,80">
</map>
</div>

<p>
<a href="classConnectionCommon-members.html">List of all members.</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classConnectionCommon.html#a39c631fb1c50f1d598b750cbf32aea2">__sleep</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This "magic" method is invoked upon serialize() and works in tandem with the <a class="el" href="classConnectionCommon.html#07a5d0e61687d1f0b3341755139f0ced" title="This &quot;magic&quot; method is invoked upon unserialize().">__wakeup()</a> method to ensure that your database connection is serializable.  <a href="#a39c631fb1c50f1d598b750cbf32aea2"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classConnectionCommon.html#07a5d0e61687d1f0b3341755139f0ced">__wakeup</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This "magic" method is invoked upon unserialize().  <a href="#07a5d0e61687d1f0b3341755139f0ced"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classConnectionCommon.html#8ce44fc1399c4a1c7e5d9d9e7415b984">getResource</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classConnectionCommon.html#ced8385eea5cf98e2b3d8db22fd74c13">getDSN</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classConnectionCommon.html#660a56f0f69324512e42bfd293268c92">getFlags</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classConnectionCommon.html#5a102032d5620c479c9f176d040458c2">prepareCall</a> ($sql)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Creates a <a class="el" href="interfaceCallableStatement.html">CallableStatement</a> object for calling database stored procedures.  <a href="#5a102032d5620c479c9f176d040458c2"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classConnectionCommon.html#877e42454838792dcaa9e7836d2eb514">supportsNestedTrans</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Driver classes should override this if they support transactions.  <a href="#877e42454838792dcaa9e7836d2eb514"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classConnectionCommon.html#caba019bf21558188699958113a41da9">begin</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Begins a transaction (if supported).  <a href="#caba019bf21558188699958113a41da9"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classConnectionCommon.html#96354f40d45fad0b94c08c88ad1ed5e6">commit</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Commits statements in a transaction.  <a href="#96354f40d45fad0b94c08c88ad1ed5e6"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classConnectionCommon.html#b28d2d7a18a8332205c4e6e59bfdda2c">rollback</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Rollback changes in a transaction.  <a href="#b28d2d7a18a8332205c4e6e59bfdda2c"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classConnectionCommon.html#6d022eafc78b7115fdd85c3666215a9c">setAutoCommit</a> ($bit)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Enable/disable automatic commits.  <a href="#6d022eafc78b7115fdd85c3666215a9c"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classConnectionCommon.html#3881dffc6acfb4fea7a0bdd072e3505a">getAutoCommit</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get auto-commit status.  <a href="#3881dffc6acfb4fea7a0bdd072e3505a"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classConnectionCommon.html#5a4273c5cc9bf4e45715ca25a0d3c333">isConnected</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Returns false if connection is closed.  <a href="#5a4273c5cc9bf4e45715ca25a0d3c333"></a><br></td></tr>
<tr><td colspan="2"><br><h2>Protected Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classConnectionCommon.html#c689519ec469247da353713a70c9d2b7">beginTrans</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Begin new transaction.  <a href="#c689519ec469247da353713a70c9d2b7"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classConnectionCommon.html#b44d53321ec76898fa9d11718387c54c">commitTrans</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Commit the current transaction.  <a href="#b44d53321ec76898fa9d11718387c54c"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classConnectionCommon.html#1241e49285e6c45498f922b6c020128f">rollbackTrans</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Roll back (undo) the current transaction.  <a href="#1241e49285e6c45498f922b6c020128f"></a><br></td></tr>
<tr><td colspan="2"><br><h2>Protected Attributes</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classConnectionCommon.html#f91fe6f6e9119929710f994f09f70f33">$transactionOpcount</a> = 0</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classConnectionCommon.html#6975081004215f218b07e2a10f9c1a86">$dblink</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classConnectionCommon.html#fc85eccbbe3937fe6e89e1feec551bb0">$dsn</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classConnectionCommon.html#50406154958485669fe8de4fc67e607a">$flags</a> = 0</td></tr>

</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>

<p>Definition at line <a class="el" href="ConnectionCommon_8php-source.html#l00032">32</a> of file <a class="el" href="ConnectionCommon_8php-source.html">ConnectionCommon.php</a>.</p>
<hr><h2>Member Function Documentation</h2>
<a class="anchor" name="a39c631fb1c50f1d598b750cbf32aea2"></a><!-- doxytag: member="ConnectionCommon::__sleep" ref="a39c631fb1c50f1d598b750cbf32aea2" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ConnectionCommon::__sleep           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
This "magic" method is invoked upon serialize() and works in tandem with the <a class="el" href="classConnectionCommon.html#07a5d0e61687d1f0b3341755139f0ced" title="This &quot;magic&quot; method is invoked upon unserialize().">__wakeup()</a> method to ensure that your database connection is serializable. 
<p>
This method returns an array containing the names of any members of your class which need to be serialized in order to allow the class to re-connect to the database when it is unserialized.<p>
Developers:<p>
Note that you cannot serialize resources (connection links) and expect them to be valid when you unserialize. For this reason, you must re-connect to the database in the <a class="el" href="classConnectionCommon.html#07a5d0e61687d1f0b3341755139f0ced" title="This &quot;magic&quot; method is invoked upon unserialize().">__wakeup()</a> method.<p>
It's up to your class implimentation to ensure that the necessary data is serialized. You probably at least need to serialize:<p>
(1) the DSN array used by connect() method (2) Any flags that were passed to the connection (3) Possibly the autocommit state<p>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>array The class variable names that should be serialized. </dd></dl>
<dl class="see" compact><dt><b>See also:</b></dt><dd><a class="el" href="classConnectionCommon.html#07a5d0e61687d1f0b3341755139f0ced" title="This &quot;magic&quot; method is invoked upon unserialize().">__wakeup()</a> <p>
DriverManager::getConnection() <p>
<a class="el" href="classDatabaseInfo.html#19ef07cc9810ed6b83b029e98ac7d588" title="This method is invoked upon serialize().">DatabaseInfo::__sleep()</a> </dd></dl>

<p>Definition at line <a class="el" href="ConnectionCommon_8php-source.html#l00094">94</a> of file <a class="el" href="ConnectionCommon_8php-source.html">ConnectionCommon.php</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00095"></a>00095     {
<a name="l00096"></a>00096         <span class="keywordflow">return</span> array(<span class="stringliteral">'dsn'</span>, <span class="stringliteral">'flags'</span>);
<a name="l00097"></a>00097     }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="07a5d0e61687d1f0b3341755139f0ced"></a><!-- doxytag: member="ConnectionCommon::__wakeup" ref="07a5d0e61687d1f0b3341755139f0ced" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ConnectionCommon::__wakeup           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
This "magic" method is invoked upon unserialize(). 
<p>
This method will re-connects to the database using the information that was stored using the <a class="el" href="classConnectionCommon.html#a39c631fb1c50f1d598b750cbf32aea2" title="This &quot;magic&quot; method is invoked upon serialize() and works in tandem with...">__sleep()</a> method. <dl class="see" compact><dt><b>See also:</b></dt><dd><a class="el" href="classConnectionCommon.html#a39c631fb1c50f1d598b750cbf32aea2" title="This &quot;magic&quot; method is invoked upon serialize() and works in tandem with...">__sleep()</a> </dd></dl>

<p>Definition at line <a class="el" href="ConnectionCommon_8php-source.html#l00105">105</a> of file <a class="el" href="ConnectionCommon_8php-source.html">ConnectionCommon.php</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00106"></a>00106     {
<a name="l00107"></a>00107         $this-&gt;connect($this-&gt;dsn, $this-&gt;flags);
<a name="l00108"></a>00108     }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="caba019bf21558188699958113a41da9"></a><!-- doxytag: member="ConnectionCommon::begin" ref="caba019bf21558188699958113a41da9" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ConnectionCommon::begin           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Begins a transaction (if supported). 
<p>

<p>Definition at line <a class="el" href="ConnectionCommon_8php-source.html#l00157">157</a> of file <a class="el" href="ConnectionCommon_8php-source.html">ConnectionCommon.php</a>.</p>

<p>References <a class="el" href="ConnectionCommon_8php-source.html#l00230">beginTrans()</a>, and <a class="el" href="ConnectionCommon_8php-source.html#l00149">supportsNestedTrans()</a>.</p>

<p>Referenced by <a class="el" href="ConnectionCommon_8php-source.html#l00202">setAutoCommit()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00158"></a>00158     {
<a name="l00159"></a>00159         <span class="keywordflow">if</span> ($this-&gt;transactionOpcount === 0 || $this-&gt;<a class="code" href="classConnectionCommon.html#877e42454838792dcaa9e7836d2eb514" title="Driver classes should override this if they support transactions.">supportsNestedTrans</a>()) {
<a name="l00160"></a>00160             $this-&gt;<a class="code" href="classConnectionCommon.html#c689519ec469247da353713a70c9d2b7" title="Begin new transaction.">beginTrans</a>();
<a name="l00161"></a>00161         }
<a name="l00162"></a>00162         $this-&gt;transactionOpcount++;
<a name="l00163"></a>00163     }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="c689519ec469247da353713a70c9d2b7"></a><!-- doxytag: member="ConnectionCommon::beginTrans" ref="c689519ec469247da353713a70c9d2b7" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ConnectionCommon::beginTrans           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Begin new transaction. 
<p>
Driver classes should override this method if they support transactions. 
<p>Reimplemented in <a class="el" href="classMSSQLConnection.html#46321b9dc45d49b8d0b3a53325599f50">MSSQLConnection</a>, <a class="el" href="classMySQLConnection.html#7583d7eaa86bf84da006fb1b1931896a">MySQLConnection</a>, <a class="el" href="classMySQLiConnection.html#cf79f5d7c2f05e274fe5753eaa7ab30f">MySQLiConnection</a>, <a class="el" href="classODBCConnection.html#87989992b63f73ba4cf4ca4e13e4fc32">ODBCConnection</a>, <a class="el" href="classOCI8Connection.html#94c1ff803eebf0cbfd1beb194e2dfbe9">OCI8Connection</a>, <a class="el" href="classPgSQLConnection.html#c52d11386ed6496de424dbd55889c5b6">PgSQLConnection</a>, and <a class="el" href="classSQLiteConnection.html#84138937bbdcf24f77f9f69ece9035d7">SQLiteConnection</a>.</p>

<p>Definition at line <a class="el" href="ConnectionCommon_8php-source.html#l00230">230</a> of file <a class="el" href="ConnectionCommon_8php-source.html">ConnectionCommon.php</a>.</p>

<p>Referenced by <a class="el" href="ConnectionCommon_8php-source.html#l00157">begin()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00231"></a>00231     {
<a name="l00232"></a>00232     }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="96354f40d45fad0b94c08c88ad1ed5e6"></a><!-- doxytag: member="ConnectionCommon::commit" ref="96354f40d45fad0b94c08c88ad1ed5e6" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ConnectionCommon::commit           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Commits statements in a transaction. 
<p>

<p>Definition at line <a class="el" href="ConnectionCommon_8php-source.html#l00168">168</a> of file <a class="el" href="ConnectionCommon_8php-source.html">ConnectionCommon.php</a>.</p>

<p>References <a class="el" href="ConnectionCommon_8php-source.html#l00238">commitTrans()</a>, and <a class="el" href="ConnectionCommon_8php-source.html#l00149">supportsNestedTrans()</a>.</p>

<p>Referenced by <a class="el" href="ConnectionCommon_8php-source.html#l00202">setAutoCommit()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00169"></a>00169     {
<a name="l00170"></a>00170         <span class="keywordflow">if</span> ($this-&gt;transactionOpcount &gt; 0) {
<a name="l00171"></a>00171             <span class="keywordflow">if</span> ($this-&gt;transactionOpcount == 1 || $this-&gt;<a class="code" href="classConnectionCommon.html#877e42454838792dcaa9e7836d2eb514" title="Driver classes should override this if they support transactions.">supportsNestedTrans</a>()) {
<a name="l00172"></a>00172                 $this-&gt;<a class="code" href="classConnectionCommon.html#b44d53321ec76898fa9d11718387c54c" title="Commit the current transaction.">commitTrans</a>();
<a name="l00173"></a>00173             }
<a name="l00174"></a>00174             $this-&gt;transactionOpcount--;       
<a name="l00175"></a>00175         }
<a name="l00176"></a>00176     }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="b44d53321ec76898fa9d11718387c54c"></a><!-- doxytag: member="ConnectionCommon::commitTrans" ref="b44d53321ec76898fa9d11718387c54c" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ConnectionCommon::commitTrans           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Commit the current transaction. 
<p>
Driver classes should override this method if they support transactions. 
<p>Reimplemented in <a class="el" href="classMSSQLConnection.html#53965748f051e2fcf4d57c9ed83b44c5">MSSQLConnection</a>, <a class="el" href="classMySQLConnection.html#3ffe1a5af8e2f62212630f0e857960b1">MySQLConnection</a>, <a class="el" href="classMySQLiConnection.html#0c6758081130a3e421d1e669568ef89c">MySQLiConnection</a>, <a class="el" href="classODBCConnection.html#e730c6a9a572e03bccd96cc395ca209e">ODBCConnection</a>, <a class="el" href="classOCI8Connection.html#74563d195a43fe6a9d95b9fafc9fbba2">OCI8Connection</a>, <a class="el" href="classPgSQLConnection.html#7bd1b0673bf62401148e040fb98482a7">PgSQLConnection</a>, and <a class="el" href="classSQLiteConnection.html#7a941bfb35228cf880cdf9e577c610a2">SQLiteConnection</a>.</p>

<p>Definition at line <a class="el" href="ConnectionCommon_8php-source.html#l00238">238</a> of file <a class="el" href="ConnectionCommon_8php-source.html">ConnectionCommon.php</a>.</p>

<p>Referenced by <a class="el" href="ConnectionCommon_8php-source.html#l00168">commit()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00239"></a>00239     {
<a name="l00240"></a>00240     }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="3881dffc6acfb4fea7a0bdd072e3505a"></a><!-- doxytag: member="ConnectionCommon::getAutoCommit" ref="3881dffc6acfb4fea7a0bdd072e3505a" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ConnectionCommon::getAutoCommit           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Get auto-commit status. 
<p>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>boolean </dd></dl>

<p>Definition at line <a class="el" href="ConnectionCommon_8php-source.html#l00221">221</a> of file <a class="el" href="ConnectionCommon_8php-source.html">ConnectionCommon.php</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00222"></a>00222     {
<a name="l00223"></a>00223         <span class="keywordflow">return</span> ($this-&gt;transactionOpcount == 0);
<a name="l00224"></a>00224     }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="ced8385eea5cf98e2b3d8db22fd74c13"></a><!-- doxytag: member="ConnectionCommon::getDSN" ref="ced8385eea5cf98e2b3d8db22fd74c13" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ConnectionCommon::getDSN           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<dl class="see" compact><dt><b>See also:</b></dt><dd><a class="el" href="interfaceConnection.html#a7eebc94c878d404ace31b0acbfa33ab" title="Get the DSN array used by connect() method to connect to database.">Connection::getDSN()</a> </dd></dl>

<p>Definition at line <a class="el" href="ConnectionCommon_8php-source.html#l00121">121</a> of file <a class="el" href="ConnectionCommon_8php-source.html">ConnectionCommon.php</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00121"></a>00121                              {
<a name="l00122"></a>00122         <span class="keywordflow">return</span> $this-&gt;dsn;
<a name="l00123"></a>00123     }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="660a56f0f69324512e42bfd293268c92"></a><!-- doxytag: member="ConnectionCommon::getFlags" ref="660a56f0f69324512e42bfd293268c92" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ConnectionCommon::getFlags           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<dl class="see" compact><dt><b>See also:</b></dt><dd><a class="el" href="interfaceConnection.html#3dddb7fb13ce63dd1ae5741a37ff171a" title="Get any flags that were passed to connection.">Connection::getFlags()</a> </dd></dl>

<p>Definition at line <a class="el" href="ConnectionCommon_8php-source.html#l00128">128</a> of file <a class="el" href="ConnectionCommon_8php-source.html">ConnectionCommon.php</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00129"></a>00129     {
<a name="l00130"></a>00130         <span class="keywordflow">return</span> $this-&gt;flags;
<a name="l00131"></a>00131     }    
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="8ce44fc1399c4a1c7e5d9d9e7415b984"></a><!-- doxytag: member="ConnectionCommon::getResource" ref="8ce44fc1399c4a1c7e5d9d9e7415b984" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ConnectionCommon::getResource           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<dl class="see" compact><dt><b>See also:</b></dt><dd><a class="el" href="interfaceConnection.html#2c2c82195c720fe8a61bc3fc34e890b4" title="Get the PHP native resource for the database connection/link.">Connection::getResource()</a> </dd></dl>

<p>Definition at line <a class="el" href="ConnectionCommon_8php-source.html#l00113">113</a> of file <a class="el" href="ConnectionCommon_8php-source.html">ConnectionCommon.php</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00114"></a>00114     {
<a name="l00115"></a>00115         <span class="keywordflow">return</span> $this-&gt;dblink;
<a name="l00116"></a>00116     }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="5a4273c5cc9bf4e45715ca25a0d3c333"></a><!-- doxytag: member="ConnectionCommon::isConnected" ref="5a4273c5cc9bf4e45715ca25a0d3c333" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ConnectionCommon::isConnected           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Returns false if connection is closed. 
<p>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>boolean </dd></dl>

<p>Definition at line <a class="el" href="ConnectionCommon_8php-source.html#l00254">254</a> of file <a class="el" href="ConnectionCommon_8php-source.html">ConnectionCommon.php</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00255"></a>00255     {
<a name="l00256"></a>00256         <span class="keywordflow">return</span> !empty($this-&gt;dblink);
<a name="l00257"></a>00257     }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="5a102032d5620c479c9f176d040458c2"></a><!-- doxytag: member="ConnectionCommon::prepareCall" ref="5a102032d5620c479c9f176d040458c2" args="($sql)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ConnectionCommon::prepareCall           </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>sql</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Creates a <a class="el" href="interfaceCallableStatement.html">CallableStatement</a> object for calling database stored procedures. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>string</em>&nbsp;</td><td>$sql </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd><a class="el" href="interfaceCallableStatement.html">CallableStatement</a> </dd></dl>

<p>Reimplemented in <a class="el" href="classMSSQLConnection.html#7e0a27962b8d0d80687ac84682a4d928">MSSQLConnection</a>, <a class="el" href="classMySQLConnection.html#2d02687c75592f445871b4b4e816e81e">MySQLConnection</a>, <a class="el" href="classMySQLiConnection.html#ea4fdb7544701307444cfdb83edc85ae">MySQLiConnection</a>, <a class="el" href="classODBCConnection.html#5b386072e9ed4351e2f4f10ae1205831">ODBCConnection</a>, <a class="el" href="classOCI8Connection.html#f17ea3c24153a7543ec87f0de80a3f87">OCI8Connection</a>, <a class="el" href="classPgSQLConnection.html#e84067eb71d07ca1490876390d3b5a36">PgSQLConnection</a>, and <a class="el" href="classSQLiteConnection.html#08398cd2db6ed6e4b00b6f260f103775">SQLiteConnection</a>.</p>

<p>Definition at line <a class="el" href="ConnectionCommon_8php-source.html#l00139">139</a> of file <a class="el" href="ConnectionCommon_8php-source.html">ConnectionCommon.php</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00140"></a>00140     {
<a name="l00141"></a>00141         <span class="keywordflow">throw</span> <span class="keyword">new</span> <a class="code" href="classSQLException.html">SQLException</a>(<span class="stringliteral">"Current driver does not support stored procedures using CallableStatement."</span>);
<a name="l00142"></a>00142     }    
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="b28d2d7a18a8332205c4e6e59bfdda2c"></a><!-- doxytag: member="ConnectionCommon::rollback" ref="b28d2d7a18a8332205c4e6e59bfdda2c" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ConnectionCommon::rollback           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Rollback changes in a transaction. 
<p>

<p>Definition at line <a class="el" href="ConnectionCommon_8php-source.html#l00181">181</a> of file <a class="el" href="ConnectionCommon_8php-source.html">ConnectionCommon.php</a>.</p>

<p>References <a class="el" href="ConnectionCommon_8php-source.html#l00246">rollbackTrans()</a>, and <a class="el" href="ConnectionCommon_8php-source.html#l00149">supportsNestedTrans()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00182"></a>00182     {
<a name="l00183"></a>00183         <span class="keywordflow">if</span> ($this-&gt;transactionOpcount &gt; 0) {
<a name="l00184"></a>00184             <span class="keywordflow">if</span> ($this-&gt;transactionOpcount == 1 || $this-&gt;<a class="code" href="classConnectionCommon.html#877e42454838792dcaa9e7836d2eb514" title="Driver classes should override this if they support transactions.">supportsNestedTrans</a>()) {
<a name="l00185"></a>00185                 $this-&gt;<a class="code" href="classConnectionCommon.html#1241e49285e6c45498f922b6c020128f" title="Roll back (undo) the current transaction.">rollbackTrans</a>();
<a name="l00186"></a>00186             }
<a name="l00187"></a>00187             $this-&gt;transactionOpcount--;       
<a name="l00188"></a>00188         }
<a name="l00189"></a>00189     }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="1241e49285e6c45498f922b6c020128f"></a><!-- doxytag: member="ConnectionCommon::rollbackTrans" ref="1241e49285e6c45498f922b6c020128f" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ConnectionCommon::rollbackTrans           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Roll back (undo) the current transaction. 
<p>
Driver classes should override this method if they support transactions. 
<p>Reimplemented in <a class="el" href="classMSSQLConnection.html#55a9dc8e350327e94189ea29ecbd77e6">MSSQLConnection</a>, <a class="el" href="classMySQLConnection.html#fce6a48625d4f8036a8aa787335ad0fc">MySQLConnection</a>, <a class="el" href="classMySQLiConnection.html#28da2376300225573cad57ecc0c3d01d">MySQLiConnection</a>, <a class="el" href="classODBCConnection.html#0b217a3562943d46c464fc05f3d6bc86">ODBCConnection</a>, <a class="el" href="classOCI8Connection.html#46eaf051597560ee59bd0613f01196df">OCI8Connection</a>, <a class="el" href="classPgSQLConnection.html#d0840b8b13a82ceb10283b37d1ac10f3">PgSQLConnection</a>, and <a class="el" href="classSQLiteConnection.html#bdb6391cfa9e88b67d2cd8b8dc393253">SQLiteConnection</a>.</p>

<p>Definition at line <a class="el" href="ConnectionCommon_8php-source.html#l00246">246</a> of file <a class="el" href="ConnectionCommon_8php-source.html">ConnectionCommon.php</a>.</p>

<p>Referenced by <a class="el" href="ConnectionCommon_8php-source.html#l00181">rollback()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00247"></a>00247     {
<a name="l00248"></a>00248     }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="6d022eafc78b7115fdd85c3666215a9c"></a><!-- doxytag: member="ConnectionCommon::setAutoCommit" ref="6d022eafc78b7115fdd85c3666215a9c" args="($bit)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ConnectionCommon::setAutoCommit           </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>bit</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Enable/disable automatic commits. 
<p>
Pushes SQLWarning onto $warnings stack if the autocommit value is being changed mid-transaction. This function is overridden by driver classes so that they can perform the necessary begin/end transaction SQL.<p>
If auto-commit is being set to TRUE, then the current transaction will be committed immediately.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>boolean</em>&nbsp;</td><td>$bit New value for auto commit. </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>void </dd></dl>

<p>Definition at line <a class="el" href="ConnectionCommon_8php-source.html#l00202">202</a> of file <a class="el" href="ConnectionCommon_8php-source.html">ConnectionCommon.php</a>.</p>

<p>References <a class="el" href="ConnectionCommon_8php-source.html#l00157">begin()</a>, and <a class="el" href="ConnectionCommon_8php-source.html#l00168">commit()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00203"></a>00203     {
<a name="l00204"></a>00204         <span class="keywordflow">if</span> ($this-&gt;transactionOpcount &gt; 0) {
<a name="l00205"></a>00205             trigger_error(<span class="stringliteral">"Changing autocommit in mid-transaction; committing "</span> . $this-&gt;transactionOpcount . <span class="stringliteral">" uncommitted statements."</span>, E_USER_WARNING);
<a name="l00206"></a>00206         }
<a name="l00207"></a>00207 
<a name="l00208"></a>00208         <span class="keywordflow">if</span> (!$bit) {
<a name="l00209"></a>00209             $this-&gt;<a class="code" href="classConnectionCommon.html#caba019bf21558188699958113a41da9" title="Begins a transaction (if supported).">begin</a>();
<a name="l00210"></a>00210         }
<a name="l00211"></a>00211         <span class="keywordflow">else</span> {
<a name="l00212"></a>00212             $this-&gt;<a class="code" href="classConnectionCommon.html#96354f40d45fad0b94c08c88ad1ed5e6" title="Commits statements in a transaction.">commit</a>();
<a name="l00213"></a>00213         }
<a name="l00214"></a>00214     }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="877e42454838792dcaa9e7836d2eb514"></a><!-- doxytag: member="ConnectionCommon::supportsNestedTrans" ref="877e42454838792dcaa9e7836d2eb514" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ConnectionCommon::supportsNestedTrans           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Driver classes should override this if they support transactions. 
<p>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>boolean </dd></dl>

<p>Definition at line <a class="el" href="ConnectionCommon_8php-source.html#l00149">149</a> of file <a class="el" href="ConnectionCommon_8php-source.html">ConnectionCommon.php</a>.</p>

<p>Referenced by <a class="el" href="ConnectionCommon_8php-source.html#l00157">begin()</a>, <a class="el" href="ConnectionCommon_8php-source.html#l00168">commit()</a>, and <a class="el" href="ConnectionCommon_8php-source.html#l00181">rollback()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00150"></a>00150     {
<a name="l00151"></a>00151         <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00152"></a>00152     }
</pre></div>
<p>

</div>
</div><p>
<hr><h2>Member Data Documentation</h2>
<a class="anchor" name="6975081004215f218b07e2a10f9c1a86"></a><!-- doxytag: member="ConnectionCommon::$dblink" ref="6975081004215f218b07e2a10f9c1a86" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ConnectionCommon::$dblink<code> [protected]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="ConnectionCommon_8php-source.html#l00053">53</a> of file <a class="el" href="ConnectionCommon_8php-source.html">ConnectionCommon.php</a>.</p>

</div>
</div><p>
<a class="anchor" name="fc85eccbbe3937fe6e89e1feec551bb0"></a><!-- doxytag: member="ConnectionCommon::$dsn" ref="fc85eccbbe3937fe6e89e1feec551bb0" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ConnectionCommon::$dsn<code> [protected]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="ConnectionCommon_8php-source.html#l00059">59</a> of file <a class="el" href="ConnectionCommon_8php-source.html">ConnectionCommon.php</a>.</p>

</div>
</div><p>
<a class="anchor" name="50406154958485669fe8de4fc67e607a"></a><!-- doxytag: member="ConnectionCommon::$flags" ref="50406154958485669fe8de4fc67e607a" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ConnectionCommon::$flags = 0<code> [protected]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="ConnectionCommon_8php-source.html#l00065">65</a> of file <a class="el" href="ConnectionCommon_8php-source.html">ConnectionCommon.php</a>.</p>

<p>Referenced by <a class="el" href="SQLiteConnection_8php-source.html#l00047">SQLiteConnection::connect()</a>, <a class="el" href="PgSQLConnection_8php-source.html#l00055">PgSQLConnection::connect()</a>, <a class="el" href="OCI8Connection_8php-source.html#l00056">OCI8Connection::connect()</a>, <a class="el" href="ODBCConnection_8php-source.html#l00050">ODBCConnection::connect()</a>, <a class="el" href="MySQLiConnection_8php-source.html#l00045">MySQLiConnection::connect()</a>, <a class="el" href="MySQLConnection_8php-source.html#l00050">MySQLConnection::connect()</a>, and <a class="el" href="MSSQLConnection_8php-source.html#l00057">MSSQLConnection::connect()</a>.</p>

</div>
</div><p>
<a class="anchor" name="f91fe6f6e9119929710f994f09f70f33"></a><!-- doxytag: member="ConnectionCommon::$transactionOpcount" ref="f91fe6f6e9119929710f994f09f70f33" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ConnectionCommon::$transactionOpcount = 0<code> [protected]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="ConnectionCommon_8php-source.html#l00047">47</a> of file <a class="el" href="ConnectionCommon_8php-source.html">ConnectionCommon.php</a>.</p>

</div>
</div><p>
<hr>The documentation for this class was generated from the following file:<ul>
<li>Static/PhpInclude/FareOfficeLib/3dPart/creole/common/<a class="el" href="ConnectionCommon_8php-source.html">ConnectionCommon.php</a></ul>
</div>
<hr size="1"><address style="text-align: right;"><small>Generated on Wed May 6 23:10:49 2009 for fareofficelib by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.8 </small></address>
</body>
</html>
