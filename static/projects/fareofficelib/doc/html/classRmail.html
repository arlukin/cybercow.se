<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>fareofficelib: Rmail Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css">
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.8 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
      <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>Rmail Class Reference</h1><!-- doxytag: class="Rmail" -->o------------------------------------------------------------------------------o | This package is licensed under the Phpguru license.  
<a href="#_details">More...</a>
<p>

<p>
<a href="classRmail-members.html">List of all members.</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRmail.html#33ec62a92dfb187f33b9c66ee90a1df6">__construct</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Constructor function.  <a href="#33ec62a92dfb187f33b9c66ee90a1df6"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRmail.html#758361a90532ff464e16c7aa557b7db1">setCRLF</a> ($crlf=&quot;\n&quot;)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Accessor to set the CRLF style.  <a href="#758361a90532ff464e16c7aa557b7db1"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRmail.html#ace744770842386c910a83aa549614f7">setSMTPParams</a> ($host=null, $port=null, $helo=null, $auth=null, $user=null, $pass=null)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Accessor to set the SMTP parameters.  <a href="#ace744770842386c910a83aa549614f7"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRmail.html#3f98b434e26e081941e7f1ccfcb7bb42">setSendmailPath</a> ($path)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Sets sendmail path and options (optionally) (when directly piping to sendmail).  <a href="#3f98b434e26e081941e7f1ccfcb7bb42"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRmail.html#064b50a4b453538e657375248fa63bf0">setTextEncoding</a> (<a class="el" href="interfaceiEncoding.html">iEncoding</a> $encoding)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Accessor function to set the text encoding.  <a href="#064b50a4b453538e657375248fa63bf0"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRmail.html#f929ff1337b28358849d3fc6d525601d">setHTMLEncoding</a> (<a class="el" href="interfaceiEncoding.html">iEncoding</a> $encoding)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Accessor function to set the HTML encoding.  <a href="#f929ff1337b28358849d3fc6d525601d"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRmail.html#a2ac98b3b68acf7023c47fc6e52a89a6">setTextCharset</a> ($charset= 'ISO-8859-1')</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Accessor function to set the text charset.  <a href="#a2ac98b3b68acf7023c47fc6e52a89a6"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRmail.html#757e19a1decfb8a382de7da84f3af76c">setHTMLCharset</a> ($charset= 'ISO-8859-1')</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Accessor function to set the HTML charset.  <a href="#757e19a1decfb8a382de7da84f3af76c"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRmail.html#fb1e8a4be8c05326cb33aaf3cf4a84fc">setHeadCharset</a> ($charset= 'ISO-8859-1')</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Accessor function to set the header encoding charset.  <a href="#fb1e8a4be8c05326cb33aaf3cf4a84fc"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRmail.html#96721636fe71d9d6591c4ca30fcc18f4">setTextWrap</a> ($count=998)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Accessor function to set the text wrap count.  <a href="#96721636fe71d9d6591c4ca30fcc18f4"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRmail.html#2d3d8d43cbe52259d77c3125342e3656">setHeader</a> ($name, $value)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Accessor to set a header.  <a href="#2d3d8d43cbe52259d77c3125342e3656"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRmail.html#edb31e892167cbfeb48ca0b1f9d44d10">setReceipt</a> ($email)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Sets the delivery reciept address.  <a href="#edb31e892167cbfeb48ca0b1f9d44d10"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRmail.html#e67826ed76feaa48fa00bb1ee7328e96">setSubject</a> ($subject)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Accessor to add a Subject: header.  <a href="#e67826ed76feaa48fa00bb1ee7328e96"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRmail.html#a72d8f570d173329bab70a51f98bf842">setFrom</a> ($from)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Accessor to add a From: header.  <a href="#a72d8f570d173329bab70a51f98bf842"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRmail.html#d51d02118c151e7dbf0a1b6a28dc8e94">setPriority</a> ($priority= 'normal')</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Accessor to set priority.  <a href="#d51d02118c151e7dbf0a1b6a28dc8e94"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRmail.html#6cf0cb9ee005da8ebccf622898898a3e">setReturnPath</a> ($return_path)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Accessor to set the return path.  <a href="#6cf0cb9ee005da8ebccf622898898a3e"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRmail.html#67bf5d6198d3771c7e45462dfed6892d">setCc</a> ($cc)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Accessor to add a Cc: header.  <a href="#67bf5d6198d3771c7e45462dfed6892d"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRmail.html#e585f6d82e03e32fa97f3bc8979d2c3d">setBcc</a> ($bcc)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Accessor to add a Bcc: header.  <a href="#e585f6d82e03e32fa97f3bc8979d2c3d"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRmail.html#c184bdbbdc8251c30271f00a919a439f">setText</a> ($text)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Adds plain text.  <a href="#c184bdbbdc8251c30271f00a919a439f"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRmail.html#1b0da23f33161bf9bb6f53f888219f5c">setHTML</a> ($html, $images_dir=null)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Adds HTML to the emails, with an associated text part.  <a href="#1b0da23f33161bf9bb6f53f888219f5c"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRmail.html#5a60edea8d457da9f3093d01d93c4cdb">addEmbeddedImage</a> ($embeddedImage)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Adds an image to the list of embedded images.  <a href="#5a60edea8d457da9f3093d01d93c4cdb"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRmail.html#d1acff1ba296711b169a3d56eaa076b6">addAttachment</a> ($<a class="el" href="classattachment.html">attachment</a>)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Adds a file to the list of attachments.  <a href="#d1acff1ba296711b169a3d56eaa076b6"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRmail.html#5db1c455f17d17d920cf03536d5cf7b3">send</a> ($recipients, $type= 'mail')</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Sends the mail.  <a href="#5db1c455f17d17d920cf03536d5cf7b3"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRmail.html#880f2b96ece101146004d33bf5c3f585">getRFC822</a> ($recipients, $type= 'mail')</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Use this method to return the email in message/rfc822 format.  <a href="#880f2b96ece101146004d33bf5c3f585"></a><br></td></tr>
<tr><td colspan="2"><br><h2>Private Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRmail.html#d990fa5be0c30ee9c5ad4a5ecd7c5da8">findHtmlImages</a> ($images_dir)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Function for extracting images from html source.  <a href="#d990fa5be0c30ee9c5ad4a5ecd7c5da8"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRmail.html#a5b5950618c03fb841f68640df9ca369">addTextPart</a> (&amp;$message)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Adds a text subpart to a mime_part object.  <a href="#a5b5950618c03fb841f68640df9ca369"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRmail.html#461118a77c1088d9eb97028136ae9d93">addHtmlPart</a> (&amp;$message)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Adds a html subpart to a mime_part object.  <a href="#461118a77c1088d9eb97028136ae9d93"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRmail.html#dd80ceea3f7f63bf6f30f0382641afbe">addMixedPart</a> (&amp;$message)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Starts a message with a mixed part.  <a href="#dd80ceea3f7f63bf6f30f0382641afbe"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRmail.html#53a3f7e166f7e81c04ea35e499d62138">addAlternativePart</a> (&amp;$message)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Adds an alternative part to a mime_part object.  <a href="#53a3f7e166f7e81c04ea35e499d62138"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRmail.html#051927b4f0514c4e238dd14204557e7f">addRelatedPart</a> (&amp;$message)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Adds a html subpart to a mime_part object.  <a href="#051927b4f0514c4e238dd14204557e7f"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRmail.html#4c152c3e83e1eb1712e44e4450aae7b6">addHtmlImageParts</a> (&amp;$message)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Adds all html images to a mime_part object.  <a href="#4c152c3e83e1eb1712e44e4450aae7b6"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRmail.html#3de905f092b78a325c933254fa1d5253">addAttachmentParts</a> (&amp;$message)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Adds all attachments to a mime_part object.  <a href="#3de905f092b78a325c933254fa1d5253"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRmail.html#09e5cbded6e5a3c6ccde71d5963572f1">build</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Builds the multipart message.  <a href="#09e5cbded6e5a3c6ccde71d5963572f1"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRmail.html#bd56ea9b417fbaceafeca8e0ba6d76b7">encodeHeader</a> ($input, $charset= 'ISO-8859-1')</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Function to encode a header if necessary according to RFC2047.  <a href="#bd56ea9b417fbaceafeca8e0ba6d76b7"></a><br></td></tr>
<tr><td colspan="2"><br><h2>Private Attributes</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRmail.html#12a455cf50018a43f2668f91bf62b727">$html</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRmail.html#a808be34d284f78a5bcfefc833a68da0">$text</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">The text part of the message(only used in TEXT only messages) string.  <a href="#a808be34d284f78a5bcfefc833a68da0"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRmail.html#872ba801333240c5e3243ad00d48110a">$output</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">The main body of the message after building string.  <a href="#872ba801333240c5e3243ad00d48110a"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRmail.html#9050252f46197523a890385326341696">$html_images</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">An array of embedded images /objects array.  <a href="#9050252f46197523a890385326341696"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRmail.html#416a59fa6150826f6e9e1f29abb764a1">$image_types</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">An array of recognised image types for the <a class="el" href="classRmail.html#d990fa5be0c30ee9c5ad4a5ecd7c5da8" title="Function for extracting images from html source.">findHtmlImages()</a> method array.  <a href="#416a59fa6150826f6e9e1f29abb764a1"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRmail.html#0ba5640708222d4131ca517da49afce6">$build_params</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Parameters that affect the build process array.  <a href="#0ba5640708222d4131ca517da49afce6"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRmail.html#2765b590dba786bb1b621d0a3142b8ab">$attachments</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Array of attachments array.  <a href="#2765b590dba786bb1b621d0a3142b8ab"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRmail.html#5770ec559e00fcba9837d3a052ec52eb">$headers</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">The main message headers array.  <a href="#5770ec559e00fcba9837d3a052ec52eb"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRmail.html#276d1322b32d90380a5df460ea44212a">$return_path</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">The return path address.  <a href="#276d1322b32d90380a5df460ea44212a"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRmail.html#34fc1694f28717b381f6386c07031c82">$smtp_params</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Array of information needed for <a class="el" href="classsmtp.html">smtp</a> sending array.  <a href="#34fc1694f28717b381f6386c07031c82"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRmail.html#945a143220d1df93ccd94221359a4741">$sendmail_path</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Sendmail path.  <a href="#945a143220d1df93ccd94221359a4741"></a><br></td></tr>
</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
o------------------------------------------------------------------------------o | This package is licensed under the Phpguru license. 
<p>
A quick summary is | | that for commercial use, there is a small one-time licensing fee to pay. For | | registered charities and educational institutes there is a reduced license | | fee available. You can read more at: | | | | <a href="http://www.phpguru.org/static/license.html">http://www.phpguru.org/static/license.html</a> | o------------------------------------------------------------------------------o<p>
© Copyright 2008,2009 Richard Heyes 
<p>Definition at line <a class="el" href="Rmail_8php-source.html#l00017">17</a> of file <a class="el" href="Rmail_8php-source.html">Rmail.php</a>.</p>
<hr><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" name="33ec62a92dfb187f33b9c66ee90a1df6"></a><!-- doxytag: member="Rmail::__construct" ref="33ec62a92dfb187f33b9c66ee90a1df6" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Rmail::__construct           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Constructor function. 
<p>

<p>
Initialise some variables.<p>
If you want the auto load functionality to find other image/file types, add the extension and content type here.<p>
Set these up<p>
Defaults for <a class="el" href="classsmtp.html">smtp</a> sending<p>
Make sure the MIME version header is first.
<p>Definition at line <a class="el" href="Rmail_8php-source.html#l00089">89</a> of file <a class="el" href="Rmail_8php-source.html">Rmail.php</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00090"></a>00090     {
<a name="l00094"></a>00094         $this-&gt;attachments   = array();
<a name="l00095"></a>00095         $this-&gt;html_images   = array();
<a name="l00096"></a>00096         $this-&gt;headers       = array();
<a name="l00097"></a>00097         $this-&gt;text          = <span class="stringliteral">''</span>;
<a name="l00098"></a>00098         $this-&gt;sendmail_path = <span class="stringliteral">'/usr/lib/sendmail -ti'</span>;
<a name="l00099"></a>00099 
<a name="l00105"></a>00105         $this-&gt;image_types = array(<span class="stringliteral">'gif'</span>  =&gt; <span class="stringliteral">'image/gif'</span>,
<a name="l00106"></a>00106                                    <span class="stringliteral">'jpg'</span>  =&gt; <span class="stringliteral">'image/jpeg'</span>,
<a name="l00107"></a>00107                                    <span class="stringliteral">'jpeg'</span> =&gt; <span class="stringliteral">'image/jpeg'</span>,
<a name="l00108"></a>00108                                    <span class="stringliteral">'jpe'</span>  =&gt; <span class="stringliteral">'image/jpeg'</span>,
<a name="l00109"></a>00109                                    <span class="stringliteral">'bmp'</span>  =&gt; <span class="stringliteral">'image/bmp'</span>,
<a name="l00110"></a>00110                                    <span class="stringliteral">'png'</span>  =&gt; <span class="stringliteral">'image/png'</span>,
<a name="l00111"></a>00111                                    <span class="stringliteral">'tif'</span>  =&gt; <span class="stringliteral">'image/tiff'</span>,
<a name="l00112"></a>00112                                    <span class="stringliteral">'tiff'</span> =&gt; <span class="stringliteral">'image/tiff'</span>,
<a name="l00113"></a>00113                                    <span class="stringliteral">'swf'</span>  =&gt; <span class="stringliteral">'application/x-shockwave-flash'</span>);
<a name="l00114"></a>00114 
<a name="l00118"></a>00118         $this-&gt;build_params[<span class="stringliteral">'html_encoding'</span>] = <span class="keyword">new</span> <a class="code" href="classQPrintEncoding.html" title="Quoted Printable Encoding class.">QPrintEncoding</a>();
<a name="l00119"></a>00119         $this-&gt;build_params[<span class="stringliteral">'text_encoding'</span>] = <span class="keyword">new</span> <a class="code" href="classSevenBitEncoding.html" title="7Bit Encoding class">SevenBitEncoding</a>();
<a name="l00120"></a>00120         $this-&gt;build_params[<span class="stringliteral">'html_charset'</span>]  = <span class="stringliteral">'ISO-8859-1'</span>;
<a name="l00121"></a>00121         $this-&gt;build_params[<span class="stringliteral">'text_charset'</span>]  = <span class="stringliteral">'ISO-8859-1'</span>;
<a name="l00122"></a>00122         $this-&gt;build_params[<span class="stringliteral">'head_charset'</span>]  = <span class="stringliteral">'ISO-8859-1'</span>;
<a name="l00123"></a>00123         $this-&gt;build_params[<span class="stringliteral">'text_wrap'</span>]     = 998;
<a name="l00124"></a>00124 
<a name="l00128"></a>00128         <span class="keywordflow">if</span> (!empty($_SERVER[<span class="stringliteral">'HTTP_HOST'</span>])) {
<a name="l00129"></a>00129             $helo = $_SERVER[<span class="stringliteral">'HTTP_HOST'</span>];
<a name="l00130"></a>00130 
<a name="l00131"></a>00131         } elseif (!empty($_SERVER[<span class="stringliteral">'SERVER_NAME'</span>])) {
<a name="l00132"></a>00132             $helo = $_SERVER[<span class="stringliteral">'SERVER_NAME'</span>];
<a name="l00133"></a>00133         
<a name="l00134"></a>00134         } <span class="keywordflow">else</span> {
<a name="l00135"></a>00135             $helo = <span class="stringliteral">'localhost'</span>;
<a name="l00136"></a>00136         }
<a name="l00137"></a>00137 
<a name="l00138"></a>00138         $this-&gt;smtp_params[<span class="stringliteral">'host'</span>] = <span class="stringliteral">'localhost'</span>;
<a name="l00139"></a>00139         $this-&gt;smtp_params[<span class="stringliteral">'port'</span>] = 25;
<a name="l00140"></a>00140         $this-&gt;smtp_params[<span class="stringliteral">'helo'</span>] = $helo;
<a name="l00141"></a>00141         $this-&gt;smtp_params[<span class="stringliteral">'auth'</span>] = <span class="keyword">false</span>;
<a name="l00142"></a>00142         $this-&gt;smtp_params[<span class="stringliteral">'user'</span>] = <span class="stringliteral">''</span>;
<a name="l00143"></a>00143         $this-&gt;smtp_params[<span class="stringliteral">'pass'</span>] = <span class="stringliteral">''</span>;
<a name="l00144"></a>00144 
<a name="l00148"></a>00148         $this-&gt;headers[<span class="stringliteral">'MIME-Version'</span>] = <span class="stringliteral">'1.0'</span>;
<a name="l00149"></a>00149         $this-&gt;headers[<span class="stringliteral">'X-Mailer'</span>] = <span class="stringliteral">'Rmail &lt;http://www.phpguru.org/&gt;'</span>;
<a name="l00150"></a>00150     }
</pre></div>
<p>

</div>
</div><p>
<hr><h2>Member Function Documentation</h2>
<a class="anchor" name="53a3f7e166f7e81c04ea35e499d62138"></a><!-- doxytag: member="Rmail::addAlternativePart" ref="53a3f7e166f7e81c04ea35e499d62138" args="(&amp;$message)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Rmail::addAlternativePart           </td>
          <td>(</td>
          <td class="paramtype">&amp;$&nbsp;</td>
          <td class="paramname"> <em>message</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Adds an alternative part to a mime_part object. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>object</em>&nbsp;</td><td>$obj </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>object Mime part object </dd></dl>

<p>Definition at line <a class="el" href="Rmail_8php-source.html#l00515">515</a> of file <a class="el" href="Rmail_8php-source.html">Rmail.php</a>.</p>

<p>Referenced by <a class="el" href="Rmail_8php-source.html#l00581">build()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00516"></a>00516     {
<a name="l00517"></a>00517         $params[<span class="stringliteral">'content_type'</span>] = <span class="stringliteral">'multipart/alternative'</span>;
<a name="l00518"></a>00518 
<a name="l00519"></a>00519         <span class="keywordflow">if</span> (!empty($message)) {
<a name="l00520"></a>00520             <span class="keywordflow">return</span> $message-&gt;addSubpart(<span class="stringliteral">''</span>, $params);
<a name="l00521"></a>00521         } <span class="keywordflow">else</span> {
<a name="l00522"></a>00522             $message = <span class="keyword">new</span> Mail_mimePart(<span class="stringliteral">''</span>, $params);
<a name="l00523"></a>00523         }
<a name="l00524"></a>00524     }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="d1acff1ba296711b169a3d56eaa076b6"></a><!-- doxytag: member="Rmail::addAttachment" ref="d1acff1ba296711b169a3d56eaa076b6" args="($attachment)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Rmail::addAttachment           </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>attachment</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Adds a file to the list of attachments. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>string</em>&nbsp;</td><td>$attachment Attachment object </td></tr>
  </table>
</dl>

<p>Definition at line <a class="el" href="Rmail_8php-source.html#l00454">454</a> of file <a class="el" href="Rmail_8php-source.html">Rmail.php</a>.</p>

<p>References <a class="el" href="example2_8php-source.html#l00024">$attachment</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00455"></a>00455     {
<a name="l00456"></a>00456         $this-&gt;attachments[] = <a class="code" href="example2_8php.html#4019bc6f2f49dc44acb1b4168505b19e" title="o------------------------------------------------------------------------------o...">$attachment</a>;
<a name="l00457"></a>00457     }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="3de905f092b78a325c933254fa1d5253"></a><!-- doxytag: member="Rmail::addAttachmentParts" ref="3de905f092b78a325c933254fa1d5253" args="(&amp;$message)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Rmail::addAttachmentParts           </td>
          <td>(</td>
          <td class="paramtype">&amp;$&nbsp;</td>
          <td class="paramname"> <em>message</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Adds all attachments to a mime_part object. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>object</em>&nbsp;</td><td>$obj Message object </td></tr>
  </table>
</dl>

<p>Definition at line <a class="el" href="Rmail_8php-source.html#l00566">566</a> of file <a class="el" href="Rmail_8php-source.html">Rmail.php</a>.</p>

<p>Referenced by <a class="el" href="Rmail_8php-source.html#l00581">build()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00567"></a>00567     {
<a name="l00568"></a>00568         <span class="keywordflow">foreach</span> ($this-&gt;attachments as $value) {
<a name="l00569"></a>00569             $params[<span class="stringliteral">'content_type'</span>] = $value-&gt;contentType;
<a name="l00570"></a>00570             $params[<span class="stringliteral">'encoding'</span>]     = $value-&gt;encoding-&gt;getType();
<a name="l00571"></a>00571             $params[<span class="stringliteral">'disposition'</span>]  = <span class="stringliteral">'attachment'</span>;
<a name="l00572"></a>00572             $params[<span class="stringliteral">'dfilename'</span>]    = $value-&gt;name;
<a name="l00573"></a>00573         
<a name="l00574"></a>00574             $message-&gt;addSubpart($value-&gt;data, $params);
<a name="l00575"></a>00575         }
<a name="l00576"></a>00576     }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="5a60edea8d457da9f3093d01d93c4cdb"></a><!-- doxytag: member="Rmail::addEmbeddedImage" ref="5a60edea8d457da9f3093d01d93c4cdb" args="($embeddedImage)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Rmail::addEmbeddedImage           </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>embeddedImage</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Adds an image to the list of embedded images. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>string</em>&nbsp;</td><td>$object Embedded image object </td></tr>
  </table>
</dl>

<p>Definition at line <a class="el" href="Rmail_8php-source.html#l00441">441</a> of file <a class="el" href="Rmail_8php-source.html">Rmail.php</a>.</p>

<p>Referenced by <a class="el" href="Rmail_8php-source.html#l00402">findHtmlImages()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00442"></a>00442     {
<a name="l00443"></a>00443         $embeddedImage-&gt;cid = md5(uniqid(time()));
<a name="l00444"></a>00444 
<a name="l00445"></a>00445         $this-&gt;html_images[] = $embeddedImage;
<a name="l00446"></a>00446     }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="4c152c3e83e1eb1712e44e4450aae7b6"></a><!-- doxytag: member="Rmail::addHtmlImageParts" ref="4c152c3e83e1eb1712e44e4450aae7b6" args="(&amp;$message)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Rmail::addHtmlImageParts           </td>
          <td>(</td>
          <td class="paramtype">&amp;$&nbsp;</td>
          <td class="paramname"> <em>message</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Adds all html images to a mime_part object. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>object</em>&nbsp;</td><td>$obj Message object </td></tr>
  </table>
</dl>

<p>Definition at line <a class="el" href="Rmail_8php-source.html#l00548">548</a> of file <a class="el" href="Rmail_8php-source.html">Rmail.php</a>.</p>

<p>Referenced by <a class="el" href="Rmail_8php-source.html#l00581">build()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00549"></a>00549     {
<a name="l00550"></a>00550         <span class="keywordflow">foreach</span> ($this-&gt;html_images as $value) {
<a name="l00551"></a>00551             $params[<span class="stringliteral">'content_type'</span>] = $value-&gt;contentType;
<a name="l00552"></a>00552             $params[<span class="stringliteral">'encoding'</span>]     = $value-&gt;encoding-&gt;getType();
<a name="l00553"></a>00553             $params[<span class="stringliteral">'disposition'</span>]  = <span class="stringliteral">'inline'</span>;
<a name="l00554"></a>00554             $params[<span class="stringliteral">'dfilename'</span>]    = $value-&gt;name;
<a name="l00555"></a>00555             $params[<span class="stringliteral">'cid'</span>]          = $value-&gt;cid;
<a name="l00556"></a>00556     
<a name="l00557"></a>00557             $message-&gt;addSubpart($value-&gt;data, $params);
<a name="l00558"></a>00558         }
<a name="l00559"></a>00559     }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="461118a77c1088d9eb97028136ae9d93"></a><!-- doxytag: member="Rmail::addHtmlPart" ref="461118a77c1088d9eb97028136ae9d93" args="(&amp;$message)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Rmail::addHtmlPart           </td>
          <td>(</td>
          <td class="paramtype">&amp;$&nbsp;</td>
          <td class="paramname"> <em>message</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Adds a html subpart to a mime_part object. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>object</em>&nbsp;</td><td>$obj </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>object Mime part object </dd></dl>

<p>Definition at line <a class="el" href="Rmail_8php-source.html#l00484">484</a> of file <a class="el" href="Rmail_8php-source.html">Rmail.php</a>.</p>

<p>Referenced by <a class="el" href="Rmail_8php-source.html#l00581">build()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00485"></a>00485     {
<a name="l00486"></a>00486         $params[<span class="stringliteral">'content_type'</span>] = <span class="stringliteral">'text/html'</span>;
<a name="l00487"></a>00487         $params[<span class="stringliteral">'encoding'</span>]     = $this-&gt;build_params[<span class="stringliteral">'html_encoding'</span>]-&gt;getType();
<a name="l00488"></a>00488         $params[<span class="stringliteral">'charset'</span>]      = $this-&gt;build_params[<span class="stringliteral">'html_charset'</span>];
<a name="l00489"></a>00489 
<a name="l00490"></a>00490         <span class="keywordflow">if</span> (!empty($message)) {
<a name="l00491"></a>00491             $message-&gt;addSubpart($this-&gt;html, $params);
<a name="l00492"></a>00492         } <span class="keywordflow">else</span> {
<a name="l00493"></a>00493             $message = <span class="keyword">new</span> Mail_mimePart($this-&gt;html, $params);
<a name="l00494"></a>00494         }
<a name="l00495"></a>00495     }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="dd80ceea3f7f63bf6f30f0382641afbe"></a><!-- doxytag: member="Rmail::addMixedPart" ref="dd80ceea3f7f63bf6f30f0382641afbe" args="(&amp;$message)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Rmail::addMixedPart           </td>
          <td>(</td>
          <td class="paramtype">&amp;$&nbsp;</td>
          <td class="paramname"> <em>message</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Starts a message with a mixed part. 
<p>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>object Mime part object </dd></dl>

<p>Definition at line <a class="el" href="Rmail_8php-source.html#l00502">502</a> of file <a class="el" href="Rmail_8php-source.html">Rmail.php</a>.</p>

<p>Referenced by <a class="el" href="Rmail_8php-source.html#l00581">build()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00503"></a>00503     {
<a name="l00504"></a>00504         $params[<span class="stringliteral">'content_type'</span>] = <span class="stringliteral">'multipart/mixed'</span>;
<a name="l00505"></a>00505         
<a name="l00506"></a>00506         $message = <span class="keyword">new</span> Mail_mimePart(<span class="stringliteral">''</span>, $params);
<a name="l00507"></a>00507     }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="051927b4f0514c4e238dd14204557e7f"></a><!-- doxytag: member="Rmail::addRelatedPart" ref="051927b4f0514c4e238dd14204557e7f" args="(&amp;$message)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Rmail::addRelatedPart           </td>
          <td>(</td>
          <td class="paramtype">&amp;$&nbsp;</td>
          <td class="paramname"> <em>message</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Adds a html subpart to a mime_part object. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>object</em>&nbsp;</td><td>$obj </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>object Mime part object </dd></dl>

<p>Definition at line <a class="el" href="Rmail_8php-source.html#l00532">532</a> of file <a class="el" href="Rmail_8php-source.html">Rmail.php</a>.</p>

<p>Referenced by <a class="el" href="Rmail_8php-source.html#l00581">build()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00533"></a>00533     {
<a name="l00534"></a>00534         $params[<span class="stringliteral">'content_type'</span>] = <span class="stringliteral">'multipart/related'</span>;
<a name="l00535"></a>00535 
<a name="l00536"></a>00536         <span class="keywordflow">if</span> (!empty($message)) {
<a name="l00537"></a>00537             <span class="keywordflow">return</span> $message-&gt;addSubpart(<span class="stringliteral">''</span>, $params);
<a name="l00538"></a>00538         } <span class="keywordflow">else</span> {
<a name="l00539"></a>00539             $message = <span class="keyword">new</span> Mail_mimePart(<span class="stringliteral">''</span>, $params);
<a name="l00540"></a>00540         }
<a name="l00541"></a>00541     }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="a5b5950618c03fb841f68640df9ca369"></a><!-- doxytag: member="Rmail::addTextPart" ref="a5b5950618c03fb841f68640df9ca369" args="(&amp;$message)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Rmail::addTextPart           </td>
          <td>(</td>
          <td class="paramtype">&amp;$&nbsp;</td>
          <td class="paramname"> <em>message</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Adds a text subpart to a mime_part object. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>object</em>&nbsp;</td><td>$obj </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>object Mime part object </dd></dl>

<p>Definition at line <a class="el" href="Rmail_8php-source.html#l00465">465</a> of file <a class="el" href="Rmail_8php-source.html">Rmail.php</a>.</p>

<p>Referenced by <a class="el" href="Rmail_8php-source.html#l00581">build()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00466"></a>00466     {
<a name="l00467"></a>00467         $params[<span class="stringliteral">'content_type'</span>] = <span class="stringliteral">'text/plain'</span>;
<a name="l00468"></a>00468         $params[<span class="stringliteral">'encoding'</span>]     = $this-&gt;build_params[<span class="stringliteral">'text_encoding'</span>]-&gt;getType();
<a name="l00469"></a>00469         $params[<span class="stringliteral">'charset'</span>]      = $this-&gt;build_params[<span class="stringliteral">'text_charset'</span>];
<a name="l00470"></a>00470 
<a name="l00471"></a>00471         <span class="keywordflow">if</span> (!empty($message)) {
<a name="l00472"></a>00472             $message-&gt;addSubpart($this-&gt;text, $params);
<a name="l00473"></a>00473         } <span class="keywordflow">else</span> {
<a name="l00474"></a>00474             $message = <span class="keyword">new</span> Mail_mimePart($this-&gt;text, $params);
<a name="l00475"></a>00475         }
<a name="l00476"></a>00476     }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="09e5cbded6e5a3c6ccde71d5963572f1"></a><!-- doxytag: member="Rmail::build" ref="09e5cbded6e5a3c6ccde71d5963572f1" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Rmail::build           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Builds the multipart message. 
<p>

<p>Definition at line <a class="el" href="Rmail_8php-source.html#l00581">581</a> of file <a class="el" href="Rmail_8php-source.html">Rmail.php</a>.</p>

<p>References <a class="el" href="Rmail_8php-source.html#l00059">$attachments</a>, <a class="el" href="Rmail_8php-source.html#l00023">$html</a>, <a class="el" href="Rmail_8php-source.html#l00041">$html_images</a>, <a class="el" href="Rmail_8php-source.html#l00035">$output</a>, <a class="el" href="Rmail_8php-source.html#l00029">$text</a>, <a class="el" href="Rmail_8php-source.html#l00515">addAlternativePart()</a>, <a class="el" href="Rmail_8php-source.html#l00566">addAttachmentParts()</a>, <a class="el" href="Rmail_8php-source.html#l00548">addHtmlImageParts()</a>, <a class="el" href="Rmail_8php-source.html#l00484">addHtmlPart()</a>, <a class="el" href="Rmail_8php-source.html#l00502">addMixedPart()</a>, <a class="el" href="Rmail_8php-source.html#l00532">addRelatedPart()</a>, and <a class="el" href="Rmail_8php-source.html#l00465">addTextPart()</a>.</p>

<p>Referenced by <a class="el" href="Rmail_8php-source.html#l00840">getRFC822()</a>, and <a class="el" href="Rmail_8php-source.html#l00712">send()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00582"></a>00582     {
<a name="l00583"></a>00583         <span class="keywordflow">if</span> (!empty($this-&gt;html_images)) {
<a name="l00584"></a>00584             <span class="keywordflow">foreach</span> ($this-&gt;html_images as $value) {
<a name="l00585"></a>00585                 $quoted = preg_quote($value-&gt;name);
<a name="l00586"></a>00586                 $cid    = preg_quote($value-&gt;cid);
<a name="l00587"></a>00587 
<a name="l00588"></a>00588                 $this-&gt;html = preg_replace(<span class="stringliteral">"#src=\"$quoted\"|src='$quoted'#"</span>, <span class="stringliteral">"src=\"cid:$cid\""</span>, $this-&gt;html);
<a name="l00589"></a>00589                 $this-&gt;html = preg_replace(<span class="stringliteral">"#background=\"$quoted\"|background='$quoted'#"</span>, <span class="stringliteral">"background=\"cid:$cid\""</span>, $this-&gt;html);
<a name="l00590"></a>00590             }
<a name="l00591"></a>00591         }
<a name="l00592"></a>00592 
<a name="l00593"></a>00593         $message     = null;
<a name="l00594"></a>00594         <a class="code" href="classRmail.html#2765b590dba786bb1b621d0a3142b8ab" title="Array of attachments array.">$attachments</a> = !empty($this-&gt;attachments);
<a name="l00595"></a>00595         <a class="code" href="classRmail.html#9050252f46197523a890385326341696" title="An array of embedded images /objects array.">$html_images</a> = !empty($this-&gt;html_images);
<a name="l00596"></a>00596         <a class="code" href="classRmail.html#12a455cf50018a43f2668f91bf62b727">$html</a>        = !empty($this-&gt;html);
<a name="l00597"></a>00597         <a class="code" href="classRmail.html#a808be34d284f78a5bcfefc833a68da0" title="The text part of the message(only used in TEXT only messages) string.">$text</a>        = !<a class="code" href="classRmail.html#12a455cf50018a43f2668f91bf62b727">$html</a>;
<a name="l00598"></a>00598 
<a name="l00599"></a>00599         <span class="keywordflow">switch</span> (<span class="keyword">true</span>) {
<a name="l00600"></a>00600             <span class="keywordflow">case</span> <a class="code" href="classRmail.html#a808be34d284f78a5bcfefc833a68da0" title="The text part of the message(only used in TEXT only messages) string.">$text</a>:
<a name="l00601"></a>00601                 $message = null;
<a name="l00602"></a>00602                 <span class="keywordflow">if</span> (<a class="code" href="classRmail.html#2765b590dba786bb1b621d0a3142b8ab" title="Array of attachments array.">$attachments</a>) {
<a name="l00603"></a>00603                     $this-&gt;<a class="code" href="classRmail.html#dd80ceea3f7f63bf6f30f0382641afbe" title="Starts a message with a mixed part.">addMixedPart</a>($message);
<a name="l00604"></a>00604                 }
<a name="l00605"></a>00605 
<a name="l00606"></a>00606                 $this-&gt;<a class="code" href="classRmail.html#a5b5950618c03fb841f68640df9ca369" title="Adds a text subpart to a mime_part object.">addTextPart</a>($message);
<a name="l00607"></a>00607 
<a name="l00608"></a>00608                 <span class="comment">// Attachments</span>
<a name="l00609"></a>00609                 $this-&gt;<a class="code" href="classRmail.html#3de905f092b78a325c933254fa1d5253" title="Adds all attachments to a mime_part object.">addAttachmentParts</a>($message);
<a name="l00610"></a>00610                 <span class="keywordflow">break</span>;
<a name="l00611"></a>00611 
<a name="l00612"></a>00612             <span class="keywordflow">case</span> <a class="code" href="classRmail.html#12a455cf50018a43f2668f91bf62b727">$html</a> AND !<a class="code" href="classRmail.html#2765b590dba786bb1b621d0a3142b8ab" title="Array of attachments array.">$attachments</a> AND !<a class="code" href="classRmail.html#9050252f46197523a890385326341696" title="An array of embedded images /objects array.">$html_images</a>:
<a name="l00613"></a>00613                 $this-&gt;<a class="code" href="classRmail.html#53a3f7e166f7e81c04ea35e499d62138" title="Adds an alternative part to a mime_part object.">addAlternativePart</a>($message);
<a name="l00614"></a>00614 
<a name="l00615"></a>00615                 $this-&gt;<a class="code" href="classRmail.html#a5b5950618c03fb841f68640df9ca369" title="Adds a text subpart to a mime_part object.">addTextPart</a>($message);
<a name="l00616"></a>00616                 $this-&gt;<a class="code" href="classRmail.html#461118a77c1088d9eb97028136ae9d93" title="Adds a html subpart to a mime_part object.">addHtmlPart</a>($message);
<a name="l00617"></a>00617                 <span class="keywordflow">break</span>;
<a name="l00618"></a>00618 
<a name="l00619"></a>00619             <span class="keywordflow">case</span> <a class="code" href="classRmail.html#12a455cf50018a43f2668f91bf62b727">$html</a> AND !<a class="code" href="classRmail.html#2765b590dba786bb1b621d0a3142b8ab" title="Array of attachments array.">$attachments</a> AND <a class="code" href="classRmail.html#9050252f46197523a890385326341696" title="An array of embedded images /objects array.">$html_images</a>:
<a name="l00620"></a>00620                 $this-&gt;<a class="code" href="classRmail.html#051927b4f0514c4e238dd14204557e7f" title="Adds a html subpart to a mime_part object.">addRelatedPart</a>($message);
<a name="l00621"></a>00621                 $alt = $this-&gt;<a class="code" href="classRmail.html#53a3f7e166f7e81c04ea35e499d62138" title="Adds an alternative part to a mime_part object.">addAlternativePart</a>($message);
<a name="l00622"></a>00622 
<a name="l00623"></a>00623                 $this-&gt;<a class="code" href="classRmail.html#a5b5950618c03fb841f68640df9ca369" title="Adds a text subpart to a mime_part object.">addTextPart</a>($alt);
<a name="l00624"></a>00624                 $this-&gt;<a class="code" href="classRmail.html#461118a77c1088d9eb97028136ae9d93" title="Adds a html subpart to a mime_part object.">addHtmlPart</a>($alt);
<a name="l00625"></a>00625                 
<a name="l00626"></a>00626                 <span class="comment">// HTML images</span>
<a name="l00627"></a>00627                 $this-&gt;<a class="code" href="classRmail.html#4c152c3e83e1eb1712e44e4450aae7b6" title="Adds all html images to a mime_part object.">addHtmlImageParts</a>($message);
<a name="l00628"></a>00628                 <span class="keywordflow">break</span>;
<a name="l00629"></a>00629 
<a name="l00630"></a>00630             <span class="keywordflow">case</span> <a class="code" href="classRmail.html#12a455cf50018a43f2668f91bf62b727">$html</a> AND <a class="code" href="classRmail.html#2765b590dba786bb1b621d0a3142b8ab" title="Array of attachments array.">$attachments</a> AND !<a class="code" href="classRmail.html#9050252f46197523a890385326341696" title="An array of embedded images /objects array.">$html_images</a>:
<a name="l00631"></a>00631                 $this-&gt;<a class="code" href="classRmail.html#dd80ceea3f7f63bf6f30f0382641afbe" title="Starts a message with a mixed part.">addMixedPart</a>($message);
<a name="l00632"></a>00632                 $alt = $this-&gt;<a class="code" href="classRmail.html#53a3f7e166f7e81c04ea35e499d62138" title="Adds an alternative part to a mime_part object.">addAlternativePart</a>($message);
<a name="l00633"></a>00633 
<a name="l00634"></a>00634                 $this-&gt;<a class="code" href="classRmail.html#a5b5950618c03fb841f68640df9ca369" title="Adds a text subpart to a mime_part object.">addTextPart</a>($alt);
<a name="l00635"></a>00635                 $this-&gt;<a class="code" href="classRmail.html#461118a77c1088d9eb97028136ae9d93" title="Adds a html subpart to a mime_part object.">addHtmlPart</a>($alt);
<a name="l00636"></a>00636                 
<a name="l00637"></a>00637                 <span class="comment">// Attachments</span>
<a name="l00638"></a>00638                 $this-&gt;<a class="code" href="classRmail.html#3de905f092b78a325c933254fa1d5253" title="Adds all attachments to a mime_part object.">addAttachmentParts</a>($message);
<a name="l00639"></a>00639                 <span class="keywordflow">break</span>;
<a name="l00640"></a>00640 
<a name="l00641"></a>00641             <span class="keywordflow">case</span> <a class="code" href="classRmail.html#12a455cf50018a43f2668f91bf62b727">$html</a> AND <a class="code" href="classRmail.html#2765b590dba786bb1b621d0a3142b8ab" title="Array of attachments array.">$attachments</a> AND <a class="code" href="classRmail.html#9050252f46197523a890385326341696" title="An array of embedded images /objects array.">$html_images</a>:
<a name="l00642"></a>00642                 $this-&gt;<a class="code" href="classRmail.html#dd80ceea3f7f63bf6f30f0382641afbe" title="Starts a message with a mixed part.">addMixedPart</a>($message);
<a name="l00643"></a>00643                 $rel = $this-&gt;<a class="code" href="classRmail.html#051927b4f0514c4e238dd14204557e7f" title="Adds a html subpart to a mime_part object.">addRelatedPart</a>($message);
<a name="l00644"></a>00644                 $alt = $this-&gt;<a class="code" href="classRmail.html#53a3f7e166f7e81c04ea35e499d62138" title="Adds an alternative part to a mime_part object.">addAlternativePart</a>($rel);
<a name="l00645"></a>00645                 
<a name="l00646"></a>00646                 $this-&gt;<a class="code" href="classRmail.html#a5b5950618c03fb841f68640df9ca369" title="Adds a text subpart to a mime_part object.">addTextPart</a>($alt);
<a name="l00647"></a>00647                 $this-&gt;<a class="code" href="classRmail.html#461118a77c1088d9eb97028136ae9d93" title="Adds a html subpart to a mime_part object.">addHtmlPart</a>($alt);
<a name="l00648"></a>00648                 
<a name="l00649"></a>00649                 <span class="comment">// HTML images</span>
<a name="l00650"></a>00650                 $this-&gt;<a class="code" href="classRmail.html#4c152c3e83e1eb1712e44e4450aae7b6" title="Adds all html images to a mime_part object.">addHtmlImageParts</a>($rel);
<a name="l00651"></a>00651                 
<a name="l00652"></a>00652                 <span class="comment">// Attachments</span>
<a name="l00653"></a>00653                 $this-&gt;<a class="code" href="classRmail.html#3de905f092b78a325c933254fa1d5253" title="Adds all attachments to a mime_part object.">addAttachmentParts</a>($message);
<a name="l00654"></a>00654                 <span class="keywordflow">break</span>;
<a name="l00655"></a>00655 
<a name="l00656"></a>00656         }
<a name="l00657"></a>00657 
<a name="l00658"></a>00658         <span class="keywordflow">if</span> (isset($message)) {
<a name="l00659"></a>00659             <a class="code" href="classRmail.html#872ba801333240c5e3243ad00d48110a" title="The main body of the message after building string.">$output</a> = $message-&gt;encode();
<a name="l00660"></a>00660             $this-&gt;output   = <a class="code" href="classRmail.html#872ba801333240c5e3243ad00d48110a" title="The main body of the message after building string.">$output</a>[<span class="stringliteral">'body'</span>];
<a name="l00661"></a>00661             $this-&gt;headers  = array_merge($this-&gt;headers, <a class="code" href="classRmail.html#872ba801333240c5e3243ad00d48110a" title="The main body of the message after building string.">$output</a>[<span class="stringliteral">'headers'</span>]);
<a name="l00662"></a>00662 
<a name="l00663"></a>00663             <span class="comment">// Figure out hostname</span>
<a name="l00664"></a>00664             <span class="keywordflow">if</span> (!empty($_SERVER[<span class="stringliteral">'HTTP_HOST'</span>])) {
<a name="l00665"></a>00665                 $hostname = $_SERVER[<span class="stringliteral">'HTTP_HOST'</span>];
<a name="l00666"></a>00666             
<a name="l00667"></a>00667             } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!empty($_SERVER[<span class="stringliteral">'SERVER_NAME'</span>])) {
<a name="l00668"></a>00668                 $hostname = $_SERVER[<span class="stringliteral">'SERVER_NAME'</span>];
<a name="l00669"></a>00669             
<a name="l00670"></a>00670             } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!empty($_ENV[<span class="stringliteral">'HOSTNAME'</span>])) {
<a name="l00671"></a>00671                 $hostname = $_ENV[<span class="stringliteral">'HOSTNAME'</span>];
<a name="l00672"></a>00672             
<a name="l00673"></a>00673             } <span class="keywordflow">else</span> {
<a name="l00674"></a>00674                 $hostname = <span class="stringliteral">'localhost'</span>;
<a name="l00675"></a>00675             }
<a name="l00676"></a>00676             
<a name="l00677"></a>00677             $message_id = sprintf(<span class="stringliteral">'&lt;%s.%s@%s&gt;'</span>, base_convert(time(), 10, 36), base_convert(rand(), 10, 36), $hostname);
<a name="l00678"></a>00678             $this-&gt;headers[<span class="stringliteral">'Message-ID'</span>] = $message_id;
<a name="l00679"></a>00679 
<a name="l00680"></a>00680             <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l00681"></a>00681         } <span class="keywordflow">else</span> {
<a name="l00682"></a>00682             <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00683"></a>00683         }
<a name="l00684"></a>00684     }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="bd56ea9b417fbaceafeca8e0ba6d76b7"></a><!-- doxytag: member="Rmail::encodeHeader" ref="bd56ea9b417fbaceafeca8e0ba6d76b7" args="($input, $charset= 'ISO&#45;8859&#45;1')" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Rmail::encodeHeader           </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>input</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>charset</em> = <code>'ISO-8859-1'</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Function to encode a header if necessary according to RFC2047. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>string</em>&nbsp;</td><td>$input Value to encode </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>string</em>&nbsp;</td><td>$charset Character set to use </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>string Encoded value </dd></dl>

<p>Definition at line <a class="el" href="Rmail_8php-source.html#l00694">694</a> of file <a class="el" href="Rmail_8php-source.html">Rmail.php</a>.</p>

<p>Referenced by <a class="el" href="Rmail_8php-source.html#l00712">send()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00695"></a>00695     {
<a name="l00696"></a>00696         preg_match_all(<span class="stringliteral">'/(\w*[\x80-\xFF]+\w*)/'</span>, $input, $matches);
<a name="l00697"></a>00697         <span class="keywordflow">foreach</span> ($matches[1] as $value) {
<a name="l00698"></a>00698             $replacement = preg_replace(<span class="stringliteral">'/([\x80-\xFF])/e'</span>, <span class="stringliteral">'"=" . strtoupper(dechex(ord("\1")))'</span>, $value);
<a name="l00699"></a>00699             $input = str_replace($value, <span class="stringliteral">'=?'</span> . $charset . <span class="stringliteral">'?Q?'</span> . $replacement . <span class="stringliteral">'?='</span>, $input);
<a name="l00700"></a>00700         }
<a name="l00701"></a>00701         
<a name="l00702"></a>00702         <span class="keywordflow">return</span> $input;
<a name="l00703"></a>00703     }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="d990fa5be0c30ee9c5ad4a5ecd7c5da8"></a><!-- doxytag: member="Rmail::findHtmlImages" ref="d990fa5be0c30ee9c5ad4a5ecd7c5da8" args="($images_dir)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Rmail::findHtmlImages           </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>images_dir</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Function for extracting images from html source. 
<p>
This function will look through the html code supplied by <a class="el" href="classRmail.html#1b0da23f33161bf9bb6f53f888219f5c" title="Adds HTML to the emails, with an associated text part.">setHTML()</a> and find any file that ends in one of the extensions defined in $obj-&gt;image_types. If the file exists it will read it in and embed it, (not an <a class="el" href="classattachment.html" title="Attachment classes.">attachment</a>).<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>string</em>&nbsp;</td><td>$images_dir Images directory to look in </td></tr>
  </table>
</dl>

<p>
Go thru found images
<p>Definition at line <a class="el" href="Rmail_8php-source.html#l00402">402</a> of file <a class="el" href="Rmail_8php-source.html">Rmail.php</a>.</p>

<p>References <a class="el" href="Rmail_8php-source.html#l00041">$html_images</a>, and <a class="el" href="Rmail_8php-source.html#l00441">addEmbeddedImage()</a>.</p>

<p>Referenced by <a class="el" href="Rmail_8php-source.html#l00382">setHTML()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00403"></a>00403     {
<a name="l00404"></a>00404         <span class="comment">// Build the list of image extensions</span>
<a name="l00405"></a>00405         $extensions = array_keys($this-&gt;image_types);
<a name="l00406"></a>00406 
<a name="l00407"></a>00407         preg_match_all(<span class="stringliteral">'/(?:"|\')([^"\']+\.('</span>.implode(<span class="charliteral">'|'</span>, $extensions).<span class="stringliteral">'))(?:"|\')/Ui'</span>, $this-&gt;html, $matches);
<a name="l00408"></a>00408 
<a name="l00409"></a>00409         <span class="keywordflow">foreach</span> ($matches[1] as $m) {
<a name="l00410"></a>00410             <span class="keywordflow">if</span> (file_exists($images_dir . $m)) {
<a name="l00411"></a>00411                 <a class="code" href="classRmail.html#9050252f46197523a890385326341696" title="An array of embedded images /objects array.">$html_images</a>[] = $m;
<a name="l00412"></a>00412                 $this-&gt;html = str_replace($m, basename($m), $this-&gt;html);
<a name="l00413"></a>00413             }
<a name="l00414"></a>00414         }
<a name="l00415"></a>00415 
<a name="l00419"></a>00419         <span class="keywordflow">if</span> (!empty(<a class="code" href="classRmail.html#9050252f46197523a890385326341696" title="An array of embedded images /objects array.">$html_images</a>)) {
<a name="l00420"></a>00420 
<a name="l00421"></a>00421             <span class="comment">// If duplicate images are embedded, they may show up as attachments, so remove them.</span>
<a name="l00422"></a>00422             <a class="code" href="classRmail.html#9050252f46197523a890385326341696" title="An array of embedded images /objects array.">$html_images</a> = array_unique(<a class="code" href="classRmail.html#9050252f46197523a890385326341696" title="An array of embedded images /objects array.">$html_images</a>);
<a name="l00423"></a>00423             sort(<a class="code" href="classRmail.html#9050252f46197523a890385326341696" title="An array of embedded images /objects array.">$html_images</a>);
<a name="l00424"></a>00424 
<a name="l00425"></a>00425             <span class="keywordflow">foreach</span> (<a class="code" href="classRmail.html#9050252f46197523a890385326341696" title="An array of embedded images /objects array.">$html_images</a> as $img) {
<a name="l00426"></a>00426                 <span class="keywordflow">if</span> ($image = file_get_contents($images_dir . $img)) {
<a name="l00427"></a>00427                     $ext          = preg_replace(<span class="stringliteral">'#^.*\.(\w{3,4})$#e'</span>, <span class="stringliteral">'strtolower("$1")'</span>, $img);
<a name="l00428"></a>00428                     $content_type = $this-&gt;image_types[$ext];
<a name="l00429"></a>00429                     $this-&gt;<a class="code" href="classRmail.html#5a60edea8d457da9f3093d01d93c4cdb" title="Adds an image to the list of embedded images.">addEmbeddedImage</a>(<span class="keyword">new</span> <a class="code" href="classstringEmbeddedImage.html" title="String based embedded image class.">stringEmbeddedImage</a>($image, basename($img), $content_type));
<a name="l00430"></a>00430                 }
<a name="l00431"></a>00431             }
<a name="l00432"></a>00432         }
<a name="l00433"></a>00433     }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="880f2b96ece101146004d33bf5c3f585"></a><!-- doxytag: member="Rmail::getRFC822" ref="880f2b96ece101146004d33bf5c3f585" args="($recipients, $type= 'mail')" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Rmail::getRFC822           </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>recipients</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>type</em> = <code>'mail'</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Use this method to return the email in message/rfc822 format. 
<p>
Useful for adding an email to another email as an <a class="el" href="classattachment.html" title="Attachment classes.">attachment</a>.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>array</em>&nbsp;</td><td>$recipients Array of recipients </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>string</em>&nbsp;</td><td>$type Method to be used to send the mail. Used to determine the line ending type. </td></tr>
  </table>
</dl>

<p>Definition at line <a class="el" href="Rmail_8php-source.html#l00840">840</a> of file <a class="el" href="Rmail_8php-source.html">Rmail.php</a>.</p>

<p>References <a class="el" href="Rmail_8php-source.html#l00065">$headers</a>, <a class="el" href="Rmail_8php-source.html#l00581">build()</a>, <a class="el" href="Rmail_8php-source.html#l00159">setCRLF()</a>, and <a class="el" href="Rmail_8php-source.html#l00266">setHeader()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00841"></a>00841     {
<a name="l00842"></a>00842         <span class="comment">// Make up the date header as according to RFC822</span>
<a name="l00843"></a>00843         $this-&gt;<a class="code" href="classRmail.html#2d3d8d43cbe52259d77c3125342e3656" title="Accessor to set a header.">setHeader</a>(<span class="stringliteral">'Date'</span>, date(<span class="stringliteral">'D, d M y H:i:s O'</span>));
<a name="l00844"></a>00844 
<a name="l00845"></a>00845         <span class="keywordflow">if</span> (!defined(<span class="stringliteral">'CRLF'</span>)) {
<a name="l00846"></a>00846             $this-&gt;<a class="code" href="classRmail.html#758361a90532ff464e16c7aa557b7db1" title="Accessor to set the CRLF style.">setCRLF</a>($type == <span class="stringliteral">'mail'</span> ? <span class="stringliteral">"\n"</span> : <span class="stringliteral">"\r\n"</span>);
<a name="l00847"></a>00847         }
<a name="l00848"></a>00848 
<a name="l00849"></a>00849         $this-&gt;<a class="code" href="classRmail.html#09e5cbded6e5a3c6ccde71d5963572f1" title="Builds the multipart message.">build</a>();
<a name="l00850"></a>00850 
<a name="l00851"></a>00851         <span class="comment">// Return path ?</span>
<a name="l00852"></a>00852         <span class="keywordflow">if</span> (isset($this-&gt;return_path)) {
<a name="l00853"></a>00853             <a class="code" href="classRmail.html#5770ec559e00fcba9837d3a052ec52eb" title="The main message headers array.">$headers</a>[] = <span class="stringliteral">'Return-Path: '</span> . $this-&gt;return_path;
<a name="l00854"></a>00854         }
<a name="l00855"></a>00855 
<a name="l00856"></a>00856         <span class="comment">// Get flat representation of headers</span>
<a name="l00857"></a>00857         <span class="keywordflow">foreach</span> ($this-&gt;headers as $name =&gt; $value) {
<a name="l00858"></a>00858             <a class="code" href="classRmail.html#5770ec559e00fcba9837d3a052ec52eb" title="The main message headers array.">$headers</a>[] = $name . <span class="stringliteral">': '</span> . $value;
<a name="l00859"></a>00859         }
<a name="l00860"></a>00860         <a class="code" href="classRmail.html#5770ec559e00fcba9837d3a052ec52eb" title="The main message headers array.">$headers</a>[] = <span class="stringliteral">'To: '</span> . implode(<span class="stringliteral">', '</span>, $recipients);
<a name="l00861"></a>00861 
<a name="l00862"></a>00862         <span class="keywordflow">return</span> implode(CRLF, <a class="code" href="classRmail.html#5770ec559e00fcba9837d3a052ec52eb" title="The main message headers array.">$headers</a>) . CRLF . CRLF . $this-&gt;output;
<a name="l00863"></a>00863     }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="5db1c455f17d17d920cf03536d5cf7b3"></a><!-- doxytag: member="Rmail::send" ref="5db1c455f17d17d920cf03536d5cf7b3" args="($recipients, $type= 'mail')" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Rmail::send           </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>recipients</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>type</em> = <code>'mail'</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Sends the mail. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>array</em>&nbsp;</td><td>$recipients Array of receipients to send the mail to </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>string</em>&nbsp;</td><td>$type How to send the mail ('mail' or 'sendmail' or 'smtp') </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>mixed </dd></dl>

<p>Definition at line <a class="el" href="Rmail_8php-source.html#l00712">712</a> of file <a class="el" href="Rmail_8php-source.html">Rmail.php</a>.</p>

<p>References <a class="el" href="example_8php-source.html#l00065">$address</a>, <a class="el" href="Rmail_8php-source.html#l00065">$headers</a>, <a class="el" href="example_8php-source.html#l00066">$result</a>, <a class="el" href="Rmail_8php-source.html#l00581">build()</a>, <a class="el" href="smtp_8php-source.html#l00081">smtp::connect()</a>, <a class="el" href="Rmail_8php-source.html#l00694">encodeHeader()</a>, <a class="el" href="RFC822_8php-source.html#l00138">Mail_RFC822::parseAddressList()</a>, and <a class="el" href="Rmail_8php-source.html#l00159">setCRLF()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00713"></a>00713     {
<a name="l00714"></a>00714         <span class="keywordflow">if</span> (!defined(<span class="stringliteral">'CRLF'</span>)) {
<a name="l00715"></a>00715             $this-&gt;<a class="code" href="classRmail.html#758361a90532ff464e16c7aa557b7db1" title="Accessor to set the CRLF style.">setCRLF</a>( ($type == <span class="stringliteral">'mail'</span> OR $type == <span class="stringliteral">'sendmail'</span>) ? <span class="stringliteral">"\n"</span> : <span class="stringliteral">"\r\n"</span>);
<a name="l00716"></a>00716         }
<a name="l00717"></a>00717 
<a name="l00718"></a>00718         $this-&gt;<a class="code" href="classRmail.html#09e5cbded6e5a3c6ccde71d5963572f1" title="Builds the multipart message.">build</a>();
<a name="l00719"></a>00719 
<a name="l00720"></a>00720         <span class="keywordflow">switch</span> ($type) {
<a name="l00721"></a>00721             <span class="keywordflow">case</span> <span class="stringliteral">'mail'</span>:
<a name="l00722"></a>00722                 $subject = <span class="stringliteral">''</span>;
<a name="l00723"></a>00723                 <span class="keywordflow">if</span> (!empty($this-&gt;headers[<span class="stringliteral">'Subject'</span>])) {
<a name="l00724"></a>00724                     $subject = $this-&gt;<a class="code" href="classRmail.html#bd56ea9b417fbaceafeca8e0ba6d76b7" title="Function to encode a header if necessary according to RFC2047.">encodeHeader</a>($this-&gt;headers[<span class="stringliteral">'Subject'</span>], $this-&gt;build_params[<span class="stringliteral">'head_charset'</span>]);
<a name="l00725"></a>00725                     unset($this-&gt;headers[<span class="stringliteral">'Subject'</span>]);
<a name="l00726"></a>00726                 }
<a name="l00727"></a>00727 
<a name="l00728"></a>00728                 <span class="comment">// Get flat representation of headers</span>
<a name="l00729"></a>00729                 <span class="keywordflow">foreach</span> ($this-&gt;headers as $name =&gt; $value) {
<a name="l00730"></a>00730                     <a class="code" href="classRmail.html#5770ec559e00fcba9837d3a052ec52eb" title="The main message headers array.">$headers</a>[] = $name . <span class="stringliteral">': '</span> . $this-&gt;<a class="code" href="classRmail.html#bd56ea9b417fbaceafeca8e0ba6d76b7" title="Function to encode a header if necessary according to RFC2047.">encodeHeader</a>($value, $this-&gt;build_params[<span class="stringliteral">'head_charset'</span>]);
<a name="l00731"></a>00731                 }
<a name="l00732"></a>00732 
<a name="l00733"></a>00733                 $to = $this-&gt;<a class="code" href="classRmail.html#bd56ea9b417fbaceafeca8e0ba6d76b7" title="Function to encode a header if necessary according to RFC2047.">encodeHeader</a>(implode(<span class="stringliteral">', '</span>, $recipients), $this-&gt;build_params[<span class="stringliteral">'head_charset'</span>]);
<a name="l00734"></a>00734 
<a name="l00735"></a>00735                 <span class="keywordflow">if</span> (!empty($this-&gt;return_path)) {
<a name="l00736"></a>00736                     <a class="code" href="example_8php.html#112ef069ddc0454086e3d1e6d8d55d07">$result</a> = mail($to, $subject, $this-&gt;output, implode(CRLF, <a class="code" href="classRmail.html#5770ec559e00fcba9837d3a052ec52eb" title="The main message headers array.">$headers</a>), <span class="stringliteral">'-f'</span> . $this-&gt;return_path);
<a name="l00737"></a>00737                 } <span class="keywordflow">else</span> {
<a name="l00738"></a>00738                     <a class="code" href="example_8php.html#112ef069ddc0454086e3d1e6d8d55d07">$result</a> = mail($to, $subject, $this-&gt;output, implode(CRLF, <a class="code" href="classRmail.html#5770ec559e00fcba9837d3a052ec52eb" title="The main message headers array.">$headers</a>));
<a name="l00739"></a>00739                 }
<a name="l00740"></a>00740 
<a name="l00741"></a>00741                 <span class="comment">// Reset the subject in case mail is resent</span>
<a name="l00742"></a>00742                 <span class="keywordflow">if</span> ($subject !== <span class="stringliteral">''</span>) {
<a name="l00743"></a>00743                     $this-&gt;headers[<span class="stringliteral">'Subject'</span>] = $subject;
<a name="l00744"></a>00744                 }
<a name="l00745"></a>00745 
<a name="l00746"></a>00746 
<a name="l00747"></a>00747                 <span class="comment">// Return</span>
<a name="l00748"></a>00748                 <span class="keywordflow">return</span> <a class="code" href="example_8php.html#112ef069ddc0454086e3d1e6d8d55d07">$result</a>;
<a name="l00749"></a>00749                 <span class="keywordflow">break</span>;
<a name="l00750"></a>00750 
<a name="l00751"></a>00751             <span class="keywordflow">case</span> <span class="stringliteral">'sendmail'</span>:
<a name="l00752"></a>00752                 <span class="comment">// Get flat representation of headers</span>
<a name="l00753"></a>00753                 <span class="keywordflow">foreach</span> ($this-&gt;headers as $name =&gt; $value) {
<a name="l00754"></a>00754                     <a class="code" href="classRmail.html#5770ec559e00fcba9837d3a052ec52eb" title="The main message headers array.">$headers</a>[] = $name . <span class="stringliteral">': '</span> . $this-&gt;<a class="code" href="classRmail.html#bd56ea9b417fbaceafeca8e0ba6d76b7" title="Function to encode a header if necessary according to RFC2047.">encodeHeader</a>($value, $this-&gt;build_params[<span class="stringliteral">'head_charset'</span>]);
<a name="l00755"></a>00755                 }
<a name="l00756"></a>00756 
<a name="l00757"></a>00757                 <span class="comment">// Encode To:</span>
<a name="l00758"></a>00758                 <a class="code" href="classRmail.html#5770ec559e00fcba9837d3a052ec52eb" title="The main message headers array.">$headers</a>[] = <span class="stringliteral">'To: '</span> . $this-&gt;<a class="code" href="classRmail.html#bd56ea9b417fbaceafeca8e0ba6d76b7" title="Function to encode a header if necessary according to RFC2047.">encodeHeader</a>(implode(<span class="stringliteral">', '</span>, $recipients), $this-&gt;build_params[<span class="stringliteral">'head_charset'</span>]);
<a name="l00759"></a>00759 
<a name="l00760"></a>00760                 <span class="comment">// Get return path arg for sendmail command if necessary</span>
<a name="l00761"></a>00761                 $returnPath = <span class="stringliteral">''</span>;
<a name="l00762"></a>00762                 <span class="keywordflow">if</span> (!empty($this-&gt;return_path)) {
<a name="l00763"></a>00763                     $returnPath = <span class="stringliteral">'-f'</span> . $this-&gt;return_path;
<a name="l00764"></a>00764                 }
<a name="l00765"></a>00765 
<a name="l00766"></a>00766                 $pipe = popen($this-&gt;sendmail_path . <span class="stringliteral">" "</span> . $returnPath, <span class="charliteral">'w'</span>);
<a name="l00767"></a>00767                     $bytes = fputs($pipe, implode(CRLF, <a class="code" href="classRmail.html#5770ec559e00fcba9837d3a052ec52eb" title="The main message headers array.">$headers</a>) . CRLF . CRLF . $this-&gt;output);
<a name="l00768"></a>00768                 $r = pclose($pipe);
<a name="l00769"></a>00769 
<a name="l00770"></a>00770                 <span class="keywordflow">return</span> $r;
<a name="l00771"></a>00771                 <span class="keywordflow">break</span>;
<a name="l00772"></a>00772 
<a name="l00773"></a>00773             <span class="keywordflow">case</span> <span class="stringliteral">'smtp'</span>:
<a name="l00774"></a>00774                 require_once(dirname(__FILE__) . <span class="stringliteral">'/smtp.php'</span>);
<a name="l00775"></a>00775                 require_once(dirname(__FILE__) . <span class="stringliteral">'/RFC822.php'</span>);
<a name="l00776"></a>00776                 $smtp = &amp;<a class="code" href="classsmtp.html#eae8813b81d81f4e797f8fec8d9b928c" title="Connect function.">smtp::connect</a>($this-&gt;smtp_params);
<a name="l00777"></a>00777                 
<a name="l00778"></a>00778                 <span class="comment">// Parse recipients argument for internet addresses</span>
<a name="l00779"></a>00779                 <span class="keywordflow">foreach</span> ($recipients as $recipient) {
<a name="l00780"></a>00780                     $addresses = <a class="code" href="classMail__RFC822.html#69f432d505492514b7b14035132e3ac6" title="Starts the whole process.">Mail_RFC822::parseAddressList</a>($recipient, $this-&gt;smtp_params[<span class="stringliteral">'helo'</span>], null, <span class="keyword">false</span>);
<a name="l00781"></a>00781                     <span class="keywordflow">foreach</span> ($addresses as <a class="code" href="example_8php.html#faef812b1a73e88089d4b7e5e151bc29" title="Send the email.">$address</a>) {
<a name="l00782"></a>00782                         $smtp_recipients[] = sprintf(<span class="stringliteral">'%s@%s'</span>, $address-&gt;mailbox, $address-&gt;host);
<a name="l00783"></a>00783                     }
<a name="l00784"></a>00784                 }
<a name="l00785"></a>00785                 unset($addresses); <span class="comment">// These are reused</span>
<a name="l00786"></a>00786                 unset(<a class="code" href="example_8php.html#faef812b1a73e88089d4b7e5e151bc29" title="Send the email.">$address</a>);   <span class="comment">// These are reused</span>
<a name="l00787"></a>00787 
<a name="l00788"></a>00788                 <span class="comment">// Get flat representation of headers, parsing</span>
<a name="l00789"></a>00789                 <span class="comment">// Cc and Bcc as we go</span>
<a name="l00790"></a>00790                 <span class="keywordflow">foreach</span> ($this-&gt;headers as $name =&gt; $value) {
<a name="l00791"></a>00791                     <span class="keywordflow">if</span> ($name == <span class="stringliteral">'Cc'</span> OR $name == <span class="stringliteral">'Bcc'</span>) {
<a name="l00792"></a>00792                         $addresses = <a class="code" href="classMail__RFC822.html#69f432d505492514b7b14035132e3ac6" title="Starts the whole process.">Mail_RFC822::parseAddressList</a>($value, $this-&gt;smtp_params[<span class="stringliteral">'helo'</span>], null, <span class="keyword">false</span>);
<a name="l00793"></a>00793                         <span class="keywordflow">foreach</span> ($addresses as <a class="code" href="example_8php.html#faef812b1a73e88089d4b7e5e151bc29" title="Send the email.">$address</a>) {
<a name="l00794"></a>00794                             $smtp_recipients[] = sprintf(<span class="stringliteral">'%s@%s'</span>, $address-&gt;mailbox, $address-&gt;host);
<a name="l00795"></a>00795                         }
<a name="l00796"></a>00796                     }
<a name="l00797"></a>00797                     <span class="keywordflow">if</span> ($name == <span class="stringliteral">'Bcc'</span>) {
<a name="l00798"></a>00798                         <span class="keywordflow">continue</span>;
<a name="l00799"></a>00799                     }
<a name="l00800"></a>00800                     <a class="code" href="classRmail.html#5770ec559e00fcba9837d3a052ec52eb" title="The main message headers array.">$headers</a>[] = $name . <span class="stringliteral">': '</span> . $this-&gt;<a class="code" href="classRmail.html#bd56ea9b417fbaceafeca8e0ba6d76b7" title="Function to encode a header if necessary according to RFC2047.">encodeHeader</a>($value, $this-&gt;build_params[<span class="stringliteral">'head_charset'</span>]);
<a name="l00801"></a>00801                 }
<a name="l00802"></a>00802                 <span class="comment">// Add To header based on $recipients argument</span>
<a name="l00803"></a>00803                 <a class="code" href="classRmail.html#5770ec559e00fcba9837d3a052ec52eb" title="The main message headers array.">$headers</a>[] = <span class="stringliteral">'To: '</span> . $this-&gt;<a class="code" href="classRmail.html#bd56ea9b417fbaceafeca8e0ba6d76b7" title="Function to encode a header if necessary according to RFC2047.">encodeHeader</a>(implode(<span class="stringliteral">', '</span>, $recipients), $this-&gt;build_params[<span class="stringliteral">'head_charset'</span>]);
<a name="l00804"></a>00804 
<a name="l00805"></a>00805                 <span class="comment">// Add headers to send_params</span>
<a name="l00806"></a>00806                 $send_params[<span class="stringliteral">'headers'</span>]    = <a class="code" href="classRmail.html#5770ec559e00fcba9837d3a052ec52eb" title="The main message headers array.">$headers</a>;
<a name="l00807"></a>00807                 $send_params[<span class="stringliteral">'recipients'</span>] = array_values(array_unique($smtp_recipients));
<a name="l00808"></a>00808                 $send_params[<span class="stringliteral">'body'</span>]       = $this-&gt;output;
<a name="l00809"></a>00809 
<a name="l00810"></a>00810                 <span class="comment">// Setup return path</span>
<a name="l00811"></a>00811                 <span class="keywordflow">if</span> (isset($this-&gt;return_path)) {
<a name="l00812"></a>00812                     $send_params[<span class="stringliteral">'from'</span>] = $this-&gt;return_path;
<a name="l00813"></a>00813                 } elseif (!empty($this-&gt;headers[<span class="stringliteral">'From'</span>])) {
<a name="l00814"></a>00814                     $from = <a class="code" href="classMail__RFC822.html#69f432d505492514b7b14035132e3ac6" title="Starts the whole process.">Mail_RFC822::parseAddressList</a>($this-&gt;headers[<span class="stringliteral">'From'</span>]);
<a name="l00815"></a>00815                     $send_params[<span class="stringliteral">'from'</span>] = sprintf(<span class="stringliteral">'%s@%s'</span>, $from[0]-&gt;mailbox, $from[0]-&gt;host);
<a name="l00816"></a>00816                 } <span class="keywordflow">else</span> {
<a name="l00817"></a>00817                     $send_params[<span class="stringliteral">'from'</span>] = <span class="stringliteral">'postmaster@'</span> . $this-&gt;smtp_params[<span class="stringliteral">'helo'</span>];
<a name="l00818"></a>00818                 }
<a name="l00819"></a>00819 
<a name="l00820"></a>00820                 <span class="comment">// Send it</span>
<a name="l00821"></a>00821                 <span class="keywordflow">if</span> (!$smtp-&gt;send($send_params)) {
<a name="l00822"></a>00822                     $this-&gt;errors = $smtp-&gt;getErrors();
<a name="l00823"></a>00823                     <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00824"></a>00824                 }
<a name="l00825"></a>00825                 <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l00826"></a>00826                 <span class="keywordflow">break</span>;
<a name="l00827"></a>00827         }
<a name="l00828"></a>00828     }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="e585f6d82e03e32fa97f3bc8979d2c3d"></a><!-- doxytag: member="Rmail::setBcc" ref="e585f6d82e03e32fa97f3bc8979d2c3d" args="($bcc)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Rmail::setBcc           </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>bcc</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Accessor to add a Bcc: header. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>string</em>&nbsp;</td><td>$bcc Blind Carbon Copy address </td></tr>
  </table>
</dl>

<p>Definition at line <a class="el" href="Rmail_8php-source.html#l00358">358</a> of file <a class="el" href="Rmail_8php-source.html">Rmail.php</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00359"></a>00359     {
<a name="l00360"></a>00360         $this-&gt;headers[<span class="stringliteral">'Bcc'</span>] = $bcc;
<a name="l00361"></a>00361     }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="67bf5d6198d3771c7e45462dfed6892d"></a><!-- doxytag: member="Rmail::setCc" ref="67bf5d6198d3771c7e45462dfed6892d" args="($cc)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Rmail::setCc           </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>cc</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Accessor to add a Cc: header. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>string</em>&nbsp;</td><td>$cc Carbon Copy address </td></tr>
  </table>
</dl>

<p>Definition at line <a class="el" href="Rmail_8php-source.html#l00348">348</a> of file <a class="el" href="Rmail_8php-source.html">Rmail.php</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00349"></a>00349     {
<a name="l00350"></a>00350         $this-&gt;headers[<span class="stringliteral">'Cc'</span>] = $cc;
<a name="l00351"></a>00351     }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="758361a90532ff464e16c7aa557b7db1"></a><!-- doxytag: member="Rmail::setCRLF" ref="758361a90532ff464e16c7aa557b7db1" args="($crlf=&quot;\n&quot;)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Rmail::setCRLF           </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>crlf</em> = <code>&quot;\n&quot;</code>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Accessor to set the CRLF style. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>string</em>&nbsp;</td><td>$crlf CRLF style to use. Use <br>
 for SMTP, and <br>
 for normal. </td></tr>
  </table>
</dl>

<p>Definition at line <a class="el" href="Rmail_8php-source.html#l00159">159</a> of file <a class="el" href="Rmail_8php-source.html">Rmail.php</a>.</p>

<p>Referenced by <a class="el" href="Rmail_8php-source.html#l00840">getRFC822()</a>, and <a class="el" href="Rmail_8php-source.html#l00712">send()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00160"></a>00160     {
<a name="l00161"></a>00161         <span class="keywordflow">if</span> (!defined(<span class="stringliteral">'CRLF'</span>)) {
<a name="l00162"></a>00162             define(<span class="stringliteral">'CRLF'</span>, $crlf, <span class="keyword">true</span>);
<a name="l00163"></a>00163         }
<a name="l00164"></a>00164 
<a name="l00165"></a>00165         <span class="keywordflow">if</span> (!defined(<span class="stringliteral">'MAIL_MIMEPART_CRLF'</span>)) {
<a name="l00166"></a>00166             define(<span class="stringliteral">'MAIL_MIMEPART_CRLF'</span>, $crlf, <span class="keyword">true</span>);
<a name="l00167"></a>00167         }
<a name="l00168"></a>00168     }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="a72d8f570d173329bab70a51f98bf842"></a><!-- doxytag: member="Rmail::setFrom" ref="a72d8f570d173329bab70a51f98bf842" args="($from)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Rmail::setFrom           </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>from</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Accessor to add a From: header. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>string</em>&nbsp;</td><td>$from From address </td></tr>
  </table>
</dl>

<p>Definition at line <a class="el" href="Rmail_8php-source.html#l00298">298</a> of file <a class="el" href="Rmail_8php-source.html">Rmail.php</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00299"></a>00299     {
<a name="l00300"></a>00300         $this-&gt;headers[<span class="stringliteral">'From'</span>] = $from;
<a name="l00301"></a>00301     }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="fb1e8a4be8c05326cb33aaf3cf4a84fc"></a><!-- doxytag: member="Rmail::setHeadCharset" ref="fb1e8a4be8c05326cb33aaf3cf4a84fc" args="($charset= 'ISO&#45;8859&#45;1')" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Rmail::setHeadCharset           </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>charset</em> = <code>'ISO-8859-1'</code>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Accessor function to set the header encoding charset. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>string</em>&nbsp;</td><td>$charset Character set to use </td></tr>
  </table>
</dl>

<p>Definition at line <a class="el" href="Rmail_8php-source.html#l00245">245</a> of file <a class="el" href="Rmail_8php-source.html">Rmail.php</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00246"></a>00246     {
<a name="l00247"></a>00247         $this-&gt;build_params[<span class="stringliteral">'head_charset'</span>] = $charset;
<a name="l00248"></a>00248     }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="2d3d8d43cbe52259d77c3125342e3656"></a><!-- doxytag: member="Rmail::setHeader" ref="2d3d8d43cbe52259d77c3125342e3656" args="($name, $value)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Rmail::setHeader           </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>value</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Accessor to set a header. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>string</em>&nbsp;</td><td>$name Name of header </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>string</em>&nbsp;</td><td>$value Value of header </td></tr>
  </table>
</dl>

<p>Definition at line <a class="el" href="Rmail_8php-source.html#l00266">266</a> of file <a class="el" href="Rmail_8php-source.html">Rmail.php</a>.</p>

<p>Referenced by <a class="el" href="Rmail_8php-source.html#l00840">getRFC822()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00267"></a>00267     {
<a name="l00268"></a>00268         $this-&gt;headers[$name] = $value;
<a name="l00269"></a>00269     }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="1b0da23f33161bf9bb6f53f888219f5c"></a><!-- doxytag: member="Rmail::setHTML" ref="1b0da23f33161bf9bb6f53f888219f5c" args="($html, $images_dir=null)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Rmail::setHTML           </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>html</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>images_dir</em> = <code>null</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Adds HTML to the emails, with an associated text part. 
<p>
If third part is given, images in the email will be loaded from this directory.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>string</em>&nbsp;</td><td>$html HTML part of email </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>string</em>&nbsp;</td><td>$images_dir Images directory </td></tr>
  </table>
</dl>

<p>Definition at line <a class="el" href="Rmail_8php-source.html#l00382">382</a> of file <a class="el" href="Rmail_8php-source.html">Rmail.php</a>.</p>

<p>References <a class="el" href="Rmail_8php-source.html#l00023">$html</a>, and <a class="el" href="Rmail_8php-source.html#l00402">findHtmlImages()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00383"></a>00383     {
<a name="l00384"></a>00384         $this-&gt;html = <a class="code" href="classRmail.html#12a455cf50018a43f2668f91bf62b727">$html</a>;
<a name="l00385"></a>00385 
<a name="l00386"></a>00386         <span class="keywordflow">if</span> (!empty($images_dir)) {
<a name="l00387"></a>00387             $this-&gt;<a class="code" href="classRmail.html#d990fa5be0c30ee9c5ad4a5ecd7c5da8" title="Function for extracting images from html source.">findHtmlImages</a>($images_dir);
<a name="l00388"></a>00388         }
<a name="l00389"></a>00389     }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="757e19a1decfb8a382de7da84f3af76c"></a><!-- doxytag: member="Rmail::setHTMLCharset" ref="757e19a1decfb8a382de7da84f3af76c" args="($charset= 'ISO&#45;8859&#45;1')" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Rmail::setHTMLCharset           </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>charset</em> = <code>'ISO-8859-1'</code>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Accessor function to set the HTML charset. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>string</em>&nbsp;</td><td>$charset Character set to use </td></tr>
  </table>
</dl>

<p>Definition at line <a class="el" href="Rmail_8php-source.html#l00235">235</a> of file <a class="el" href="Rmail_8php-source.html">Rmail.php</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00236"></a>00236     {
<a name="l00237"></a>00237         $this-&gt;build_params[<span class="stringliteral">'html_charset'</span>] = $charset;
<a name="l00238"></a>00238     }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="f929ff1337b28358849d3fc6d525601d"></a><!-- doxytag: member="Rmail::setHTMLEncoding" ref="f929ff1337b28358849d3fc6d525601d" args="(iEncoding $encoding)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Rmail::setHTMLEncoding           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="interfaceiEncoding.html">iEncoding</a> $&nbsp;</td>
          <td class="paramname"> <em>encoding</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Accessor function to set the HTML encoding. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>object</em>&nbsp;</td><td>$encoding HTML encoding to use </td></tr>
  </table>
</dl>

<p>Definition at line <a class="el" href="Rmail_8php-source.html#l00215">215</a> of file <a class="el" href="Rmail_8php-source.html">Rmail.php</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00216"></a>00216     {
<a name="l00217"></a>00217         $this-&gt;build_params[<span class="stringliteral">'html_encoding'</span>] = $encoding;
<a name="l00218"></a>00218     }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="d51d02118c151e7dbf0a1b6a28dc8e94"></a><!-- doxytag: member="Rmail::setPriority" ref="d51d02118c151e7dbf0a1b6a28dc8e94" args="($priority= 'normal')" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Rmail::setPriority           </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>priority</em> = <code>'normal'</code>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Accessor to set priority. 
<p>
Priority given should be either high, normal or low. Can also be specified numerically, being 1, 3 or 5 (respectively).<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>mixed</em>&nbsp;</td><td>$priority The priority to use. </td></tr>
  </table>
</dl>

<p>Definition at line <a class="el" href="Rmail_8php-source.html#l00310">310</a> of file <a class="el" href="Rmail_8php-source.html">Rmail.php</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00311"></a>00311     {
<a name="l00312"></a>00312         <span class="keywordflow">switch</span> (strtolower($priority)) {
<a name="l00313"></a>00313             <span class="keywordflow">case</span> <span class="stringliteral">'high'</span>:
<a name="l00314"></a>00314             <span class="keywordflow">case</span> <span class="charliteral">'1'</span>:
<a name="l00315"></a>00315                 $this-&gt;headers[<span class="stringliteral">'X-Priority'</span>] = <span class="charliteral">'1'</span>;
<a name="l00316"></a>00316                 $this-&gt;headers[<span class="stringliteral">'X-MSMail-Priority'</span>] = <span class="stringliteral">'High'</span>;
<a name="l00317"></a>00317                 <span class="keywordflow">break</span>;
<a name="l00318"></a>00318 
<a name="l00319"></a>00319             <span class="keywordflow">case</span> <span class="stringliteral">'normal'</span>:
<a name="l00320"></a>00320             <span class="keywordflow">case</span> <span class="charliteral">'3'</span>:
<a name="l00321"></a>00321                 $this-&gt;headers[<span class="stringliteral">'X-Priority'</span>] = <span class="charliteral">'3'</span>;
<a name="l00322"></a>00322                 $this-&gt;headers[<span class="stringliteral">'X-MSMail-Priority'</span>] = <span class="stringliteral">'Normal'</span>;
<a name="l00323"></a>00323                 <span class="keywordflow">break</span>;
<a name="l00324"></a>00324 
<a name="l00325"></a>00325             <span class="keywordflow">case</span> <span class="stringliteral">'low'</span>:
<a name="l00326"></a>00326             <span class="keywordflow">case</span> <span class="charliteral">'5'</span>:
<a name="l00327"></a>00327                 $this-&gt;headers[<span class="stringliteral">'X-Priority'</span>] = <span class="charliteral">'5'</span>;
<a name="l00328"></a>00328                 $this-&gt;headers[<span class="stringliteral">'X-MSMail-Priority'</span>] = <span class="stringliteral">'Low'</span>;
<a name="l00329"></a>00329                 <span class="keywordflow">break</span>;
<a name="l00330"></a>00330         }
<a name="l00331"></a>00331     }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="edb31e892167cbfeb48ca0b1f9d44d10"></a><!-- doxytag: member="Rmail::setReceipt" ref="edb31e892167cbfeb48ca0b1f9d44d10" args="($email)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Rmail::setReceipt           </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>email</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Sets the delivery reciept address. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>string</em>&nbsp;</td><td>$email The address you want the delivery reciept sent to. Note that this is sent at the discretion of the recipient </td></tr>
  </table>
</dl>

<p>Definition at line <a class="el" href="Rmail_8php-source.html#l00278">278</a> of file <a class="el" href="Rmail_8php-source.html">Rmail.php</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00279"></a>00279     {
<a name="l00280"></a>00280         $this-&gt;headers[<span class="stringliteral">'Disposition-Notification-To'</span>] = $email;
<a name="l00281"></a>00281     }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="6cf0cb9ee005da8ebccf622898898a3e"></a><!-- doxytag: member="Rmail::setReturnPath" ref="6cf0cb9ee005da8ebccf622898898a3e" args="($return_path)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Rmail::setReturnPath           </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>return_path</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Accessor to set the return path. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>string</em>&nbsp;</td><td>$return_path Return path to use </td></tr>
  </table>
</dl>

<p>Definition at line <a class="el" href="Rmail_8php-source.html#l00338">338</a> of file <a class="el" href="Rmail_8php-source.html">Rmail.php</a>.</p>

<p>References <a class="el" href="Rmail_8php-source.html#l00072">$return_path</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00339"></a>00339     {
<a name="l00340"></a>00340         $this-&gt;return_path = <a class="code" href="classRmail.html#276d1322b32d90380a5df460ea44212a" title="The return path address.">$return_path</a>;
<a name="l00341"></a>00341     }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="3f98b434e26e081941e7f1ccfcb7bb42"></a><!-- doxytag: member="Rmail::setSendmailPath" ref="3f98b434e26e081941e7f1ccfcb7bb42" args="($path)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Rmail::setSendmailPath           </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>path</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Sets sendmail path and options (optionally) (when directly piping to sendmail). 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>string</em>&nbsp;</td><td>$path Path and options for sendmail command </td></tr>
  </table>
</dl>

<p>Definition at line <a class="el" href="Rmail_8php-source.html#l00195">195</a> of file <a class="el" href="Rmail_8php-source.html">Rmail.php</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00196"></a>00196     {
<a name="l00197"></a>00197         $this-&gt;sendmail_path = $path;
<a name="l00198"></a>00198     }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="ace744770842386c910a83aa549614f7"></a><!-- doxytag: member="Rmail::setSMTPParams" ref="ace744770842386c910a83aa549614f7" args="($host=null, $port=null, $helo=null, $auth=null, $user=null, $pass=null)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Rmail::setSMTPParams           </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>host</em> = <code>null</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>port</em> = <code>null</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>helo</em> = <code>null</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>auth</em> = <code>null</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>user</em> = <code>null</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>pass</em> = <code>null</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Accessor to set the SMTP parameters. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>string</em>&nbsp;</td><td>$host Hostname </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>string</em>&nbsp;</td><td>$port Port </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>string</em>&nbsp;</td><td>$helo HELO string to use </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>bool</em>&nbsp;</td><td>$auth User authentication or not </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>string</em>&nbsp;</td><td>$user Username </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>string</em>&nbsp;</td><td>$pass Password </td></tr>
  </table>
</dl>

<p>Definition at line <a class="el" href="Rmail_8php-source.html#l00180">180</a> of file <a class="el" href="Rmail_8php-source.html">Rmail.php</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00181"></a>00181     {
<a name="l00182"></a>00182         <span class="keywordflow">if</span> (!is_null($host)) $this-&gt;smtp_params[<span class="stringliteral">'host'</span>] = $host;
<a name="l00183"></a>00183         <span class="keywordflow">if</span> (!is_null($port)) $this-&gt;smtp_params[<span class="stringliteral">'port'</span>] = $port;
<a name="l00184"></a>00184         <span class="keywordflow">if</span> (!is_null($helo)) $this-&gt;smtp_params[<span class="stringliteral">'helo'</span>] = $helo;
<a name="l00185"></a>00185         <span class="keywordflow">if</span> (!is_null($auth)) $this-&gt;smtp_params[<span class="stringliteral">'auth'</span>] = $auth;
<a name="l00186"></a>00186         <span class="keywordflow">if</span> (!is_null($user)) $this-&gt;smtp_params[<span class="stringliteral">'user'</span>] = $user;
<a name="l00187"></a>00187         <span class="keywordflow">if</span> (!is_null($pass)) $this-&gt;smtp_params[<span class="stringliteral">'pass'</span>] = $pass;
<a name="l00188"></a>00188     }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="e67826ed76feaa48fa00bb1ee7328e96"></a><!-- doxytag: member="Rmail::setSubject" ref="e67826ed76feaa48fa00bb1ee7328e96" args="($subject)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Rmail::setSubject           </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>subject</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Accessor to add a Subject: header. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>string</em>&nbsp;</td><td>$subject Subject to set </td></tr>
  </table>
</dl>

<p>Definition at line <a class="el" href="Rmail_8php-source.html#l00288">288</a> of file <a class="el" href="Rmail_8php-source.html">Rmail.php</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00289"></a>00289     {
<a name="l00290"></a>00290         $this-&gt;headers[<span class="stringliteral">'Subject'</span>] = $subject;
<a name="l00291"></a>00291     }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="c184bdbbdc8251c30271f00a919a439f"></a><!-- doxytag: member="Rmail::setText" ref="c184bdbbdc8251c30271f00a919a439f" args="($text)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Rmail::setText           </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>text</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Adds plain text. 
<p>
Use this function when NOT sending html email<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>string</em>&nbsp;</td><td>$text Plain text of email </td></tr>
  </table>
</dl>

<p>Definition at line <a class="el" href="Rmail_8php-source.html#l00369">369</a> of file <a class="el" href="Rmail_8php-source.html">Rmail.php</a>.</p>

<p>References <a class="el" href="Rmail_8php-source.html#l00029">$text</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00370"></a>00370     {
<a name="l00371"></a>00371         $this-&gt;text = <a class="code" href="classRmail.html#a808be34d284f78a5bcfefc833a68da0" title="The text part of the message(only used in TEXT only messages) string.">$text</a>;
<a name="l00372"></a>00372     }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="a2ac98b3b68acf7023c47fc6e52a89a6"></a><!-- doxytag: member="Rmail::setTextCharset" ref="a2ac98b3b68acf7023c47fc6e52a89a6" args="($charset= 'ISO&#45;8859&#45;1')" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Rmail::setTextCharset           </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>charset</em> = <code>'ISO-8859-1'</code>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Accessor function to set the text charset. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>string</em>&nbsp;</td><td>$charset Character set to use </td></tr>
  </table>
</dl>

<p>Definition at line <a class="el" href="Rmail_8php-source.html#l00225">225</a> of file <a class="el" href="Rmail_8php-source.html">Rmail.php</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00226"></a>00226     {
<a name="l00227"></a>00227         $this-&gt;build_params[<span class="stringliteral">'text_charset'</span>] = $charset;
<a name="l00228"></a>00228     }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="064b50a4b453538e657375248fa63bf0"></a><!-- doxytag: member="Rmail::setTextEncoding" ref="064b50a4b453538e657375248fa63bf0" args="(iEncoding $encoding)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Rmail::setTextEncoding           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="interfaceiEncoding.html">iEncoding</a> $&nbsp;</td>
          <td class="paramname"> <em>encoding</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Accessor function to set the text encoding. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>object</em>&nbsp;</td><td>$encoding Text encoding to use </td></tr>
  </table>
</dl>

<p>Definition at line <a class="el" href="Rmail_8php-source.html#l00205">205</a> of file <a class="el" href="Rmail_8php-source.html">Rmail.php</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00206"></a>00206     {
<a name="l00207"></a>00207         $this-&gt;build_params[<span class="stringliteral">'text_encoding'</span>] = $encoding;
<a name="l00208"></a>00208     }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="96721636fe71d9d6591c4ca30fcc18f4"></a><!-- doxytag: member="Rmail::setTextWrap" ref="96721636fe71d9d6591c4ca30fcc18f4" args="($count=998)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Rmail::setTextWrap           </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>count</em> = <code>998</code>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Accessor function to set the text wrap count. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>integer</em>&nbsp;</td><td>$count Point at which to wrap text </td></tr>
  </table>
</dl>

<p>Definition at line <a class="el" href="Rmail_8php-source.html#l00255">255</a> of file <a class="el" href="Rmail_8php-source.html">Rmail.php</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00256"></a>00256     {
<a name="l00257"></a>00257         $this-&gt;build_params[<span class="stringliteral">'text_wrap'</span>] = $count;
<a name="l00258"></a>00258     }
</pre></div>
<p>

</div>
</div><p>
<hr><h2>Member Data Documentation</h2>
<a class="anchor" name="2765b590dba786bb1b621d0a3142b8ab"></a><!-- doxytag: member="Rmail::$attachments" ref="2765b590dba786bb1b621d0a3142b8ab" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Rmail::$attachments<code> [private]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Array of attachments array. 
<p>

<p>Definition at line <a class="el" href="Rmail_8php-source.html#l00059">59</a> of file <a class="el" href="Rmail_8php-source.html">Rmail.php</a>.</p>

<p>Referenced by <a class="el" href="Rmail_8php-source.html#l00581">build()</a>.</p>

</div>
</div><p>
<a class="anchor" name="0ba5640708222d4131ca517da49afce6"></a><!-- doxytag: member="Rmail::$build_params" ref="0ba5640708222d4131ca517da49afce6" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Rmail::$build_params<code> [private]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Parameters that affect the build process array. 
<p>

<p>Definition at line <a class="el" href="Rmail_8php-source.html#l00053">53</a> of file <a class="el" href="Rmail_8php-source.html">Rmail.php</a>.</p>

</div>
</div><p>
<a class="anchor" name="5770ec559e00fcba9837d3a052ec52eb"></a><!-- doxytag: member="Rmail::$headers" ref="5770ec559e00fcba9837d3a052ec52eb" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Rmail::$headers<code> [private]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
The main message headers array. 
<p>

<p>Definition at line <a class="el" href="Rmail_8php-source.html#l00065">65</a> of file <a class="el" href="Rmail_8php-source.html">Rmail.php</a>.</p>

<p>Referenced by <a class="el" href="Rmail_8php-source.html#l00840">getRFC822()</a>, and <a class="el" href="Rmail_8php-source.html#l00712">send()</a>.</p>

</div>
</div><p>
<a class="anchor" name="12a455cf50018a43f2668f91bf62b727"></a><!-- doxytag: member="Rmail::$html" ref="12a455cf50018a43f2668f91bf62b727" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Rmail::$html<code> [private]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="Rmail_8php-source.html#l00023">23</a> of file <a class="el" href="Rmail_8php-source.html">Rmail.php</a>.</p>

<p>Referenced by <a class="el" href="Rmail_8php-source.html#l00581">build()</a>, and <a class="el" href="Rmail_8php-source.html#l00382">setHTML()</a>.</p>

</div>
</div><p>
<a class="anchor" name="9050252f46197523a890385326341696"></a><!-- doxytag: member="Rmail::$html_images" ref="9050252f46197523a890385326341696" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Rmail::$html_images<code> [private]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
An array of embedded images /objects array. 
<p>

<p>Definition at line <a class="el" href="Rmail_8php-source.html#l00041">41</a> of file <a class="el" href="Rmail_8php-source.html">Rmail.php</a>.</p>

<p>Referenced by <a class="el" href="Rmail_8php-source.html#l00581">build()</a>, and <a class="el" href="Rmail_8php-source.html#l00402">findHtmlImages()</a>.</p>

</div>
</div><p>
<a class="anchor" name="416a59fa6150826f6e9e1f29abb764a1"></a><!-- doxytag: member="Rmail::$image_types" ref="416a59fa6150826f6e9e1f29abb764a1" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Rmail::$image_types<code> [private]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
An array of recognised image types for the <a class="el" href="classRmail.html#d990fa5be0c30ee9c5ad4a5ecd7c5da8" title="Function for extracting images from html source.">findHtmlImages()</a> method array. 
<p>

<p>Definition at line <a class="el" href="Rmail_8php-source.html#l00047">47</a> of file <a class="el" href="Rmail_8php-source.html">Rmail.php</a>.</p>

</div>
</div><p>
<a class="anchor" name="872ba801333240c5e3243ad00d48110a"></a><!-- doxytag: member="Rmail::$output" ref="872ba801333240c5e3243ad00d48110a" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Rmail::$output<code> [private]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
The main body of the message after building string. 
<p>

<p>Definition at line <a class="el" href="Rmail_8php-source.html#l00035">35</a> of file <a class="el" href="Rmail_8php-source.html">Rmail.php</a>.</p>

<p>Referenced by <a class="el" href="Rmail_8php-source.html#l00581">build()</a>.</p>

</div>
</div><p>
<a class="anchor" name="276d1322b32d90380a5df460ea44212a"></a><!-- doxytag: member="Rmail::$return_path" ref="276d1322b32d90380a5df460ea44212a" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Rmail::$return_path<code> [private]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
The return path address. 
<p>
If not set the From: address is used instead string 
<p>Definition at line <a class="el" href="Rmail_8php-source.html#l00072">72</a> of file <a class="el" href="Rmail_8php-source.html">Rmail.php</a>.</p>

<p>Referenced by <a class="el" href="Rmail_8php-source.html#l00338">setReturnPath()</a>.</p>

</div>
</div><p>
<a class="anchor" name="945a143220d1df93ccd94221359a4741"></a><!-- doxytag: member="Rmail::$sendmail_path" ref="945a143220d1df93ccd94221359a4741" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Rmail::$sendmail_path<code> [private]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Sendmail path. 
<p>
Do not include -f $sendmail_path 
<p>Definition at line <a class="el" href="Rmail_8php-source.html#l00084">84</a> of file <a class="el" href="Rmail_8php-source.html">Rmail.php</a>.</p>

</div>
</div><p>
<a class="anchor" name="34fc1694f28717b381f6386c07031c82"></a><!-- doxytag: member="Rmail::$smtp_params" ref="34fc1694f28717b381f6386c07031c82" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Rmail::$smtp_params<code> [private]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Array of information needed for <a class="el" href="classsmtp.html">smtp</a> sending array. 
<p>

<p>Definition at line <a class="el" href="Rmail_8php-source.html#l00078">78</a> of file <a class="el" href="Rmail_8php-source.html">Rmail.php</a>.</p>

</div>
</div><p>
<a class="anchor" name="a808be34d284f78a5bcfefc833a68da0"></a><!-- doxytag: member="Rmail::$text" ref="a808be34d284f78a5bcfefc833a68da0" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Rmail::$text<code> [private]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
The text part of the message(only used in TEXT only messages) string. 
<p>

<p>Definition at line <a class="el" href="Rmail_8php-source.html#l00029">29</a> of file <a class="el" href="Rmail_8php-source.html">Rmail.php</a>.</p>

<p>Referenced by <a class="el" href="Rmail_8php-source.html#l00581">build()</a>, and <a class="el" href="Rmail_8php-source.html#l00369">setText()</a>.</p>

</div>
</div><p>
<hr>The documentation for this class was generated from the following file:<ul>
<li>Static/PhpInclude/FareOfficeLib/3dPart/Rmail/<a class="el" href="Rmail_8php-source.html">Rmail.php</a></ul>
</div>
<hr size="1"><address style="text-align: right;"><small>Generated on Wed May 6 23:10:50 2009 for fareofficelib by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.8 </small></address>
</body>
</html>
